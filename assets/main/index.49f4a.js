System.register("chunks:///_virtual/adaptiveView.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,t,n,s,o,a,h;return{setters:[function(e){i=e.inheritsLoose},function(e){t=e.cclegacy,n=e._decorator,s=e.view,o=e.screen,a=e.ResolutionPolicy,h=e.Component}],execute:function(){var r;t._RF.push({},"6c60dwRtv1LOaYg6ypxsakg","adaptiveView",void 0);var c=n.ccclass;e("adaptiveView",c("adaptiveView")(r=function(e){function t(){for(var i,t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return(i=e.call.apply(e,[this].concat(n))||this).designWidth=0,i.designHeight=0,i}i(t,e);var n=t.prototype;return n.start=function(){var e=s.getDesignResolutionSize();this.designWidth=e.width,this.designHeight=e.height,this.onResize(),s.on("canvas-resize",this.onResize,this)},n.onDestroy=function(){s.off("canvas-resize",this.onResize,this)},n.onResize=function(){var e=o.windowSize,i=Math.max(this.designWidth/e.width,this.designHeight/e.height),t=e.width*i,n=e.height*i;s.setDesignResolutionSize(t,n,a.SHOW_ALL),console.log("onResize")},t}(h))||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/Bird.ctrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./bird.ts","./bird.model.ts","./eventBus.ts","./player.model.ts"],(function(e){var t,i,n,r,a,s,o,l,u,c,h,d,p,f,b,m,y,v,g,w,P,S,C,B;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.classPrivateFieldLooseBase,s=e.createForOfIteratorHelperLoose,o=e.classPrivateFieldLooseKey},function(e){l=e.cclegacy,u=e._decorator,c=e.Prefab,h=e.Node,d=e.CCInteger,p=e.CCFloat,f=e.NodePool,b=e.Vec3,m=e.view,y=e.instantiate,v=e.math,g=e.Component},function(e){w=e.Bird},function(e){P=e.birdEvents},function(e){S=e.eventBus,C=e.GameEvents},function(e){B=e.PlayerEvents}],execute:function(){var z,O,R,_,E,x,D,A,Y,j,I,N,G,L,F,H,k,M,T,U,V,K,q,J,W,X,Q,Z,$,ee,te,ie,ne;l._RF.push({},"3da05X7JS9GhqegUK1rGiNy","Bird.ctrl",void 0);var re=u.ccclass,ae=u.property;e("BirdCtrl",(z=re("BirdCtrl"),O=ae({type:c}),R=ae({type:h}),_=ae({type:d}),E=ae({type:d}),x=ae({type:p}),D=ae({type:p}),A=ae({type:d}),Y=ae({type:d}),j=ae({type:d}),I=ae({type:p}),N=ae({type:d}),z((X=o("activeBirds"),Q=o("pull"),Z=o("_vec3"),$=o("worldSize"),ee=o("removeCount"),te=o("playerY"),ie=o("spawnRegions"),ne=o("spawnRegionsWeights"),F=t((L=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,n(t,"bird",F,r(t)),n(t,"container",H,r(t)),n(t,"minSpeed",k,r(t)),n(t,"maxSpeed",M,r(t)),n(t,"minScale",T,r(t)),n(t,"maxScale",U,r(t)),n(t,"idleCount",V,r(t)),n(t,"startCount",K,r(t)),n(t,"minBirdsCount",q,r(t)),n(t,"spawnDelay",J,r(t)),n(t,"minSpawnY",W,r(t)),Object.defineProperty(r(t),X,{writable:!0,value:new Set}),Object.defineProperty(r(t),Q,{writable:!0,value:new f}),Object.defineProperty(r(t),Z,{writable:!0,value:new b}),Object.defineProperty(r(t),$,{writable:!0,value:void 0}),Object.defineProperty(r(t),ee,{writable:!0,value:0}),Object.defineProperty(r(t),te,{writable:!0,value:0}),Object.defineProperty(r(t),ie,{writable:!0,value:[]}),Object.defineProperty(r(t),ne,{writable:!0,value:[]}),t.isPaused=!1,t}i(t,e);var o=t.prototype;return o.onLoad=function(){this.initPool(this.idleCount+this.startCount)},o.start=function(){a(this,$)[$]=m.getVisibleSize(),this.resetPool(),S.on(B.CHANGE_POSITION_Y,this.setPlayerY,this),S.on(C.CHANGE_PAUSE,this.changePause,this)},o.update=function(e){if(!this.isPaused)for(var t,i=s(a(this,X)[X]);!(t=i()).done;){var n=t.value;n.tick(e),this.checkOutOfBounds(n)}},o.onDestroy=function(){S.off(B.CHANGE_POSITION_Y,this.setPlayerY,this),S.off(C.CHANGE_PAUSE,this.changePause,this)},o.setPlayerY=function(e){a(this,te)[te]=e},o.changePause=function(e){this.isPaused=e},o.initPool=function(e){for(var t=e||this.idleCount+this.startCount,i=0;i<t;i++)a(this,Q)[Q].put(y(this.bird))},o.resetPool=function(){var e=this;a(this,X)[X].forEach((function(t){return e.removeBird(t)})),a(this,X)[X].clear(),a(this,te)[te]=0,a(this,ie)[ie]=[],a(this,ne)[ne]=[2,2,1]},o.addBirds=function(){var e=a(this,Q)[Q].get()||y(this.bird),t=e.getComponent(w),i=this.getSpawnParams(t.getSize());a(this,X)[X].add(t),this.container.addChild(e),t.respawn(i.pos,i.scale,i.direction,i.speed),S.emit(C.ADD_BIRD,t)},o.setBirdsCount=function(e){var t=Math.abs(e-a(this,X)[X].size);e<a(this,X)[X].size?a(this,ee)[ee]=t:e>a(this,X)[X].size&&(this.unschedule(this.addBirds),this.schedule(this.addBirds,this.spawnDelay,t))},o.setRemoveCount=function(e){a(this,ee)[ee]=e},o.removeBird=function(e){S.emit(C.REMOVE_BIRD,e),a(this,X)[X].delete(e),a(this,Q)[Q].put(e.node),a(this,ee)[ee]--},o.getSpawnParams=function(e){var t=v.random()>.5?1:-1,i=v.randomRange(this.minScale,this.maxScale),n=e*i,r=v.randomRange(this.minSpeed,this.maxSpeed),s=t>0?-n:a(this,$)[$].width+n,o=a(this,$)[$].height/2,l=Math.max(a(this,te)[te],this.minSpawnY);a(this,ie)[ie][0]=[l,l+o],a(this,ie)[ie][1]=[l+o,l+2*o],a(this,ie)[ie][2]=[l+2*o,l+3*o],l>a(this,$)[$].height&&(a(this,ie)[ie][3]=[l-o,l],a(this,ne)[ne][3]=1);for(var u=a(this,ne)[ne].reduce((function(e,t){return e+t}),0),c=v.randomRange(0,u),h=0,d=0,p=0;p<a(this,ne)[ne].length;p++)if(c<=(d+=a(this,ne)[ne][p])){h=p;break}var f=a(this,ie)[ie][h],b=v.randomRange(f[0],f[1]);return a(this,Z)[Z].set(s,b,1),{pos:a(this,Z)[Z],scale:i,direction:t,speed:r}},o.checkOutOfBounds=function(e){e.node.getPosition(a(this,Z)[Z]);var t=e.getSize()*e.scale;if((e.direction>0&&a(this,Z)[Z].x>a(this,$)[$].width-t/2||e.direction<0&&a(this,Z)[Z].x<t/2)&&(e.setCanCapture(!1),e.node.emit(P.DROP_PLAYER)),e.direction>0&&a(this,Z)[Z].x>a(this,$)[$].width+t||e.direction<0&&a(this,Z)[Z].x<-t)if(a(this,ee)[ee]>0&&a(this,X)[X].size>0)this.removeBird(e);else{var i=this.getSpawnParams(e.getSize());e.respawn(i.pos,i.scale,i.direction,i.speed)}},o.getActiveBirdsCount=function(){return a(this,X)[X].size},t}(g)).prototype,"bird",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(L.prototype,"container",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(L.prototype,"minSpeed",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=t(L.prototype,"maxSpeed",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=t(L.prototype,"minScale",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),U=t(L.prototype,"maxScale",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),V=t(L.prototype,"idleCount",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),K=t(L.prototype,"startCount",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),q=t(L.prototype,"minBirdsCount",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),J=t(L.prototype,"spawnDelay",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),W=t(L.prototype,"minSpawnY",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),G=L))||G));l._RF.pop()}}}));

System.register("chunks:///_virtual/bird.model.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"56525hYM+5PpJ2L7GQrmvop","bird.model",void 0);e("birdEvents",Object.freeze({DROP_PLAYER:"DROP_PLAYER"}));t._RF.pop()}}}));

System.register("chunks:///_virtual/bird.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,s,o,r,c,a,d;return{setters:[function(t){e=t.inheritsLoose,i=t.classPrivateFieldLooseBase,n=t.classPrivateFieldLooseKey,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,c=t.UITransform,a=t.Vec3,d=t.Component}],execute:function(){var u,h,p;o._RF.push({},"85dcc5Gf/5HbbN/ynKEYnhi","bird",void 0);var l=r.ccclass;t("Bird",l("Bird")((h=n("speed"),p=n("_vec3"),u=function(t){function n(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n))||this,Object.defineProperty(s(e),h,{writable:!0,value:0}),Object.defineProperty(s(e),p,{writable:!0,value:new a}),e.scale=0,e.direction=0,e.size=0,e.canCapture=!0,e.captured=!1,e.speedMod=1,e}e(n,t);var o=n.prototype;return o.start=function(){this.size=this.node.getComponent(c).width},o.getSize=function(){return this.node.getComponent(c).width},o.move=function(t){this.node.getPosition(i(this,p)[p]),i(this,p)[p].x+=i(this,h)[h]*this.speedMod*this.direction*t,this.node.setPosition(i(this,p)[p])},o.respawn=function(t,e,n,s){this.scale=e,this.direction=n,i(this,h)[h]=s,this.canCapture=!0,this.node.setPosition(t),this.node.setScale(e*(-1*n),e,1)},o.dropBird=function(){var t=this;this.setCanCapture(!1),this.schedule((function(){return t.setCanCapture(!0)}),1,0)},o.setSpeedMod=function(t){void 0===t&&(t=1),this.speedMod=t},o.setDirection=function(t){this.direction=t},o.setScale=function(t){this.scale=t},o.setCanCapture=function(t){this.canCapture=t},o.tick=function(t){this.move(t)},n}(d)))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/Camera.ctrl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,r,o,a,n,l,s,c,u,p,h,f,b,y,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.classPrivateFieldLooseBase,n=e.classPrivateFieldLooseKey},function(e){l=e.cclegacy,s=e._decorator,c=e.Node,u=e.CCFloat,p=e.CCBoolean,h=e.CCInteger,f=e.Vec3,b=e.view,y=e.math,d=e.Component}],execute:function(){var m,w,g,v,z,P,C,Y,F,_,B,j,k,L,O,X,x,M,W,V,D,S,I,N,R,T,q,A,H;l._RF.push({},"f66fdzri4FPSL6zz83NBqoL","Camera.ctrl",void 0);var K=s.ccclass,U=s.property;e("CameraCtrl",(m=K("CameraCtrl"),w=U({type:c}),g=U({type:c}),v=U({type:c}),z=U({type:u}),P=U({type:p}),C=U({type:p}),Y=U({type:u}),F=U({type:u}),_=U({type:h}),B=U({type:p}),m((N=n("_offsetY"),R=n("_size"),T=n("_targetVec3"),q=n("_cameraVec3"),A=n("_startWorld"),H=n("followTarget"),L=t((k=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return t=e.call.apply(e,[this].concat(a))||this,r(t,"target",L,o(t)),r(t,"camera",O,o(t)),r(t,"world",X,o(t)),r(t,"offsetY",x,o(t)),r(t,"lockX",M,o(t)),r(t,"lockY",W,o(t)),r(t,"lerpX",V,o(t)),r(t,"lerpY",D,o(t)),r(t,"startPosition",S,o(t)),r(t,"useBounds",I,o(t)),Object.defineProperty(o(t),N,{writable:!0,value:0}),Object.defineProperty(o(t),R,{writable:!0,value:void 0}),Object.defineProperty(o(t),T,{writable:!0,value:new f}),Object.defineProperty(o(t),q,{writable:!0,value:new f}),Object.defineProperty(o(t),A,{writable:!0,value:new f}),Object.defineProperty(o(t),H,{writable:!0,value:!1}),t}i(t,e);var n=t.prototype;return n.start=function(){a(this,R)[R]=b.getVisibleSize(),a(this,N)[N]=a(this,R)[R].height*this.offsetY,this.resetCamera()},n.startFollow=function(){a(this,H)[H]=!0},n.stopFollow=function(){a(this,H)[H]=!1},n.resetCamera=function(){this.stopFollow(),this.camera.setPosition(this.camera.position.x,0,this.camera.position.z),this.camera.getWorldPosition(a(this,A)[A])},n.lateUpdate=function(){if(this.target&&this.target.active&&this.camera&&a(this,H)[H]){this.target.getWorldPosition(a(this,T)[T]),this.camera.getWorldPosition(a(this,q)[q]);var e=this.lockX?a(this,q)[q].x:y.lerp(a(this,q)[q].x,a(this,T)[T].x,this.lerpX),t=this.lockY?a(this,q)[q].y:y.lerp(a(this,q)[q].y,a(this,T)[T].y+a(this,N)[N],this.lerpY),i=this.useBounds?y.clamp(Math.round(e),0,a(this,R)[R].width):Math.round(e),r=this.useBounds?y.clamp(Math.round(t),a(this,A)[A].y,1e6):Math.round(t);this.camera.setWorldPosition(i,r,a(this,q)[q].z)}},t}(d)).prototype,"target",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(k.prototype,"camera",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=t(k.prototype,"world",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(k.prototype,"offsetY",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=t(k.prototype,"lockX",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),W=t(k.prototype,"lockY",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),V=t(k.prototype,"lerpX",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),D=t(k.prototype,"lerpY",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),S=t(k.prototype,"startPosition",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),I=t(k.prototype,"useBounds",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),j=k))||j));l._RF.pop()}}}));

System.register("chunks:///_virtual/captured.state.ts",["./rollupPluginModLoBabelHelpers.js","cc","./bird.model.ts","./state.ts","./inputCtrl.ts","./player.model.ts"],(function(t){var e,i,s,r,n,o,c,a,l;return{setters:[function(t){e=t.inheritsLoose,i=t.classPrivateFieldLooseBase,s=t.classPrivateFieldLooseKey,r=t.assertThisInitialized},function(t){n=t.cclegacy},function(t){o=t.birdEvents},function(t){c=t.State},function(t){a=t.Key},function(t){l=t.PlayerStates}],execute:function(){n._RF.push({},"6bbc1dB05tCX6/poIEVb2rY","captured.state",void 0);var u=s("isCompleted"),d=s("bird");t("CapturedState",function(t){function s(){var e;return e=t.call(this,l.CAPTURED)||this,Object.defineProperty(r(e),u,{writable:!0,value:!1}),Object.defineProperty(r(e),d,{writable:!0,value:void 0}),e}e(s,t);var n=s.prototype;return n.enter=function(t,e){var s=this;this.ctrl.setCanMove(!1),this.ctrl.setActiveBody(!1),this.ctrl.setCaptureOnlyBelow(!1),i(this,u)[u]=!1,i(this,d)[d]=e,i(this,d)[d].setSpeedMod(.5),this.ctrl.startCaptureBird(e.node,(function(){return i(s,u)[u]=!0})),i(this,d)[d].node.on(o.DROP_PLAYER,this.ctrl.dropBird,this.ctrl)},n.update=function(t,e){i(this,u)[u]&&(this.ctrl.moveWithBird(i(this,d)[d]),t.input.cursors.has(a.UP)&&(this.ctrl.jump(),t.changeState(l.JUMPING)),t.input.cursors.has(a.DOWN)&&(this.ctrl.setCaptureOnlyBelow(!0),t.changeState(l.FALLING)))},n.exit=function(t){i(this,d)[d].node.off(o.DROP_PLAYER,this.ctrl.dropBird,this.ctrl),this.ctrl.setCanMove(!0),this.ctrl.setActiveBody(!0),i(this,d)[d].setSpeedMod(),i(this,d)[d]=null},s}(c));n._RF.pop()}}}));

System.register("chunks:///_virtual/Collision.ctrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./eventBus.ts","./player.model.ts"],(function(e){var t,i,o,r,n,s,a,l,c,h,u,f,p,d,y,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized,n=e.classPrivateFieldLooseBase,s=e.createForOfIteratorHelperLoose,a=e.classPrivateFieldLooseKey},function(e){l=e.cclegacy,c=e._decorator,h=e.Node,u=e.CCInteger,f=e.CCFloat,p=e.Component},function(e){d=e.eventBus,y=e.GameEvents},function(e){v=e.PlayerEvents}],execute:function(){var C,b,g,I,A,D,R,m,_,E,P;l._RF.push({},"2533cyZY6FB+4hILxb9ofoH","Collision.ctrl",void 0);var B=c.ccclass,L=c.property;e("CollisionCtrl",(C=B("CollisionCtrl"),b=L({type:h}),g=L({type:u}),I=L({type:f}),C((E=a("targets"),P=a("playerIsReady"),R=t((D=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n))||this,o(t,"playerNode",R,r(t)),o(t,"hitArea",m,r(t)),o(t,"timeout",_,r(t)),Object.defineProperty(r(t),E,{writable:!0,value:new Set}),Object.defineProperty(r(t),P,{writable:!0,value:!1}),t}i(t,e);var a=t.prototype;return a.onLoad=function(){d.on(y.ADD_BIRD,this.addTarget,this),d.on(y.REMOVE_BIRD,this.removeTarget,this),d.on(y.CHANGE_PAUSE,this.changePause,this),d.on(v.IS_READY,this.setIsReady,this)},a.onDestroy=function(){d.off(y.ADD_BIRD,this.addTarget,this),d.off(y.REMOVE_BIRD,this.removeTarget,this),d.off(y.CHANGE_PAUSE,this.changePause,this),d.off(v.IS_READY,this.setIsReady,this)},a.setIsReady=function(e){n(this,P)[P]=e},a.changePause=function(e){e?this.stopCheck():this.startCheck()},a.startCheck=function(){this.schedule(this.checkCollision,this.timeout)},a.stopCheck=function(){this.unschedule(this.checkCollision)},a.addTarget=function(e){n(this,E)[E].add(e)},a.removeTarget=function(e){n(this,E)[E].delete(e)},a.checkCollision=function(){if(n(this,P)[P])for(var e,t=s(n(this,E)[E]);!(e=t()).done;){var i=e.value;if(i.node.active&&i.canCapture){var o=i.node.x-this.playerNode.x,r=i.node.y-this.playerNode.y;if(!(Math.abs(o)>this.hitArea||Math.abs(r)>this.hitArea))if(o*o+r*r<this.hitArea*this.hitArea)return void d.emit(y.BIRD_COLLISION,{player:this.playerNode,bird:i})}}},t}(p)).prototype,"playerNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=t(D.prototype,"hitArea",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),_=t(D.prototype,"timeout",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),A=D))||A));l._RF.pop()}}}));

System.register("chunks:///_virtual/Data.ctrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./game.model.ts","./player.model.ts","./eventBus.ts"],(function(t){var e,n,o,r,i,s,a,c,l,u,f,h;return{setters:[function(t){e=t.inheritsLoose,n=t.classPrivateFieldLooseBase,o=t.classPrivateFieldLooseKey,r=t.assertThisInitialized,i=t.asyncToGenerator},function(t){s=t.cclegacy,a=t._decorator,c=t.view,l=t.Component},function(t){u=t.DataEvent},function(t){f=t.PlayerEvents},function(t){h=t.eventBus}],execute:function(){var p,v,y,P;s._RF.push({},"34bd3elFvpB1p8GHHCtH0pf","Data.ctrl",void 0);var d=a.ccclass;a.property,t("DataCtrl",d("DataCtrl")((v=o("score"),y=o("totalScore"),P=o("startPosY"),p=function(t){function o(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o))||this,Object.defineProperty(r(e),v,{writable:!0,value:0}),Object.defineProperty(r(e),y,{writable:!0,value:0}),Object.defineProperty(r(e),P,{writable:!0,value:0}),e}e(o,t);var s=o.prototype;return s.onLoad=function(){n(this,P)[P]=c.getVisibleSize().height/2,h.on(f.CHANGE_POSITION_Y,this.changePlayerPosition,this)},s.onDestroy=function(){h.off(f.CHANGE_POSITION_Y,this.changePlayerPosition,this)},s.changePlayerPosition=function(t){var e=Math.floor((t-n(this,P)[P])/100);e>n(this,v)[v]&&this.setScore(e)},s.getUserData=function(){var t=i((function*(){}));return function(){return t.apply(this,arguments)}}(),s.setScore=function(t){n(this,v)[v]=t,this.node.emit(u.CHANGE_SCORE,t)},s.getScore=function(){return n(this,v)[v]},s.getTotalScore=function(){return n(this,y)[y]},s.resetScore=function(){this.setScore(0)},o}(l)))||p);s._RF.pop()}}}));

System.register("chunks:///_virtual/eventBus.ts",["cc"],(function(e){var t,n;return{setters:[function(e){t=e.cclegacy,n=e.EventTarget}],execute:function(){t._RF.push({},"4f709o7C3FOfJUq85JOiOMc","eventBus",void 0);e("eventBus",new n),e("GameEvents",Object.freeze({ADD_BIRD:"ADD_BIRD",REMOVE_BIRD:"REMOVE_BIRD",BIRD_COLLISION:"BIRD_COLLISION",CHANGE_PAUSE:"CHANGE_PAUSE"}));t._RF.pop()}}}));

System.register("chunks:///_virtual/falling.state.ts",["./rollupPluginModLoBabelHelpers.js","cc","./eventBus.ts","./state.ts","./player.model.ts"],(function(t){var e,i,s,n,l,a,r,o,c;return{setters:[function(t){e=t.inheritsLoose,i=t.classPrivateFieldLooseBase,s=t.classPrivateFieldLooseKey,n=t.assertThisInitialized},function(t){l=t.cclegacy},function(t){a=t.eventBus,r=t.GameEvents},function(t){o=t.State},function(t){c=t.PlayerStates}],execute:function(){l._RF.push({},"7ebd8e8IypNmbaWge2riKVB","falling.state",void 0);var u=s("startFallPoint");t("FallingState",function(t){function s(){var e;return e=t.call(this,c.FALLING)||this,Object.defineProperty(n(e),u,{writable:!0,value:void 0}),e}e(s,t);var l=s.prototype;return l.enter=function(t){this.ctrl.setCanMove(!0),this.ctrl.setSpeedMod(.5),i(this,u)[u]=this.ctrl.playerNode.y,a.on(r.BIRD_COLLISION,this.ctrl.onBirdCollision,this.ctrl)},l.update=function(t,e){this.checkFallDistance(t)},l.exit=function(t){i(this,u)[u]=0,a.off(r.BIRD_COLLISION,this.ctrl.onBirdCollision,this.ctrl)},l.checkFallDistance=function(t){Math.abs(this.ctrl.playerNode.y-i(this,u)[u])>this.ctrl.deadDistance&&this.ctrl.deadPlayer()},s}(o));l._RF.pop()}}}));

System.register("chunks:///_virtual/fms.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"8b03bLZVNlOeqZfd8Ybvu9p","fms",void 0);t("FSM",function(){function t(t){this.currentState=void 0,this.states=void 0,this.owner=void 0,this.owner=t,this.states=new Map,this.currentState=null}var e=t.prototype;return e.destroy=function(){this.states.clear(),this.currentState=null},e.addState=function(t){var e=this.owner;t.setCtrl(e),this.states.set(t.name,t)},e.changeState=function(t,e){console.log("State changed to",t);var n=this.states.get(t);n?(this.currentState&&this.currentState.exit(this),this.currentState=n,this.currentState.enter(this,e)):console.error("State "+t+" not found!")},e.update=function(t){this.currentState&&this.currentState.update(this,t)},e.getCurrentState=function(){return this.currentState},e.getOwner=function(){return this.owner},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Game.ctrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Collision.ctrl.ts","./game.model.ts","./index.ts","./Bird.ctrl.ts","./Player.ctrl.ts","./Data.ctrl.ts","./eventBus.ts","./Camera.ctrl.ts","./HUD.ctrl.ts","./mainMenu.state.ts","./gamePlay.state.ts","./gameOver.state.ts","./preload.state.ts"],(function(t){var e,i,a,n,r,l,s,o,c,u,d,p,f,h,m,y,C,b,g,P,v,S,w,G,D;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized,r=t.classPrivateFieldLooseBase,l=t.classPrivateFieldLooseKey},function(t){s=t.cclegacy,o=t._decorator,c=t.PhysicsSystem2D,u=t.Vec2,d=t.Component},function(t){p=t.CollisionCtrl},function(t){f=t.GameFsm,h=t.GameStates},null,function(t){m=t.BirdCtrl},function(t){y=t.PlayerCtrl},function(t){C=t.DataCtrl},function(t){b=t.eventBus,g=t.GameEvents},function(t){P=t.CameraCtrl},function(t){v=t.HUDCtrl},function(t){S=t.MainMenuState},function(t){w=t.GamePlayState},function(t){G=t.GameOverState},function(t){D=t.PreloadState}],execute:function(){var M,A,z,B,E,_,L,F,O,R,H,U,I,N,j,x;s._RF.push({},"a5a637I6oJDfposH/K6aiPa","Game.ctrl",void 0);var K=o.ccclass,V=o.property;t("GameCtrl",(M=K("GameCtrl"),A=V({type:p}),z=V({type:m}),B=V({type:y}),E=V({type:P}),_=V({type:v}),L=V({type:C}),M((x=l("gameFsm"),R=e((O=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,a(e,"collisionCtrl",R,n(e)),a(e,"birdCtrl",H,n(e)),a(e,"playerCtrl",U,n(e)),a(e,"cameraCtrl",I,n(e)),a(e,"hud",N,n(e)),a(e,"dataCtrl",j,n(e)),Object.defineProperty(n(e),x,{writable:!0,value:void 0}),e.isPaused=!1,e}i(e,t);var l=e.prototype;return l.onLoad=function(){c.instance.gravity=new u(0,-1700),r(this,x)[x]=new f(this),r(this,x)[x].addState(new S),r(this,x)[x].addState(new w),r(this,x)[x].addState(new G),r(this,x)[x].addState(new D)},l.start=function(){r(this,x)[x].changeState(h.PRELOAD)},l.update=function(t){this.isPaused||r(this,x)[x].update(t)},l.onDestroy=function(){r(this,x)[x].destroy()},l.startGame=function(t,e){var i="restart"===e;r(this,x)[x].changeState(h.GAME_PLAY,{isRestart:i})},l.gameOver=function(){r(this,x)[x].changeState(h.GAME_OVER)},l.showMainMenu=function(){r(this,x)[x].changeState(h.MAIN_MENU)},l.increaseDifficulty=function(t){t%10!=0||this.birdCtrl.getActiveBirdsCount()<=this.birdCtrl.minBirdsCount||this.birdCtrl.setRemoveCount(1)},l.changePause=function(t){this.isPaused=t,c.instance.enable=!t,b.emit(g.CHANGE_PAUSE,t)},l.togglePause=function(){this.changePause(!this.isPaused)},e}(d)).prototype,"collisionCtrl",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(O.prototype,"birdCtrl",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(O.prototype,"playerCtrl",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(O.prototype,"cameraCtrl",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(O.prototype,"hud",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(O.prototype,"dataCtrl",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=O))||F));s._RF.pop()}}}));

System.register("chunks:///_virtual/game.model.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fms.ts"],(function(e){var t,n,s;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){s=e.FSM}],execute:function(){n._RF.push({},"a6bb1atpqpKvb1lgCsVehdo","game.model",void 0);e("GameStates",Object.freeze({MAIN_MENU:"MAIN_MENU",GAME_OVER:"GAME_OVER",GAME_PLAY:"GAME_PLAY",PRELOAD:"PRELOAD"})),e("DataEvent",Object.freeze({CHANGE_SCORE:"CHANGE_SCORE"})),e("GameFsm",function(e){function n(t){return e.call(this,t)||this}return t(n,e),n}(s));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameOver.script.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Data.ctrl.ts"],(function(t){var e,r,a,i,l,o,n,c,s,p,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized,l=t.classPrivateFieldLooseBase,o=t.classPrivateFieldLooseKey},function(t){n=t.cclegacy,c=t._decorator,s=t.Label,p=t.Component},function(t){u=t.DataCtrl}],execute:function(){var h,b,f,y,d,g,v,S,L,m,C;n._RF.push({},"2fde2XpG79A769I2DYUElar","GameOver.script",void 0);var w=c.ccclass,D=c.property;t("GameOverScript",(h=w("GameOverScript"),b=D({type:s}),f=D({type:u}),y=D({type:s}),h((m=o("score"),C=o("total"),v=e((g=function(t){function e(){for(var e,r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return e=t.call.apply(t,[this].concat(l))||this,a(e,"scoreLabel",v,i(e)),a(e,"dataCtrl",S,i(e)),a(e,"totalScore",L,i(e)),Object.defineProperty(i(e),m,{writable:!0,value:0}),Object.defineProperty(i(e),C,{writable:!0,value:0}),e}r(e,t);var o=e.prototype;return o.startCalcScore=function(){l(this,m)[m]=this.dataCtrl.getScore(),l(this,C)[C]=this.dataCtrl.getTotalScore(),this.schedule(this.changeLabel,.025,l(this,m)[m],1)},o.changeLabel=function(){this.scoreLabel.string=l(this,m)[m].toString().padStart(4,"0"),this.totalScore.string=l(this,C)[C].toString(),l(this,m)[m]-=1,l(this,C)[C]+=1},e}(p)).prototype,"scoreLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=e(g.prototype,"dataCtrl",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(g.prototype,"totalScore",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=g))||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/gameOver.state.ts",["./rollupPluginModLoBabelHelpers.js","cc","./state.ts","./game.model.ts"],(function(t){var e,r,c,s;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy},function(t){c=t.State},function(t){s=t.GameStates}],execute:function(){r._RF.push({},"ecc8czHD7VC76wQDTd2nh/C","gameOver.state",void 0);t("GameOverState",function(t){function r(){return t.call(this,s.GAME_OVER)||this}e(r,t);var c=r.prototype;return c.enter=function(t){this.ctrl.playerCtrl.disablePlayer(),this.ctrl.hud.hideGameHud(),this.ctrl.hud.showGameOver(),this.ctrl.changePause(!0)},c.update=function(t,e){},c.exit=function(t){this.ctrl.dataCtrl.resetScore(),this.ctrl.playerCtrl.setActive(!1),this.ctrl.changePause(!1),this.ctrl.hud.hideGameOver()},r}(c));r._RF.pop()}}}));

System.register("chunks:///_virtual/gamePlay.state.ts",["./rollupPluginModLoBabelHelpers.js","cc","./eventBus.ts","./state.ts","./player.model.ts","./game.model.ts"],(function(t){var r,e,l,s,i,c,a;return{setters:[function(t){r=t.inheritsLoose},function(t){e=t.cclegacy},function(t){l=t.eventBus},function(t){s=t.State},function(t){i=t.PlayerEvents},function(t){c=t.DataEvent,a=t.GameStates}],execute:function(){e._RF.push({},"c711bR8wR9MZr3XdIWh2bM0","gamePlay.state",void 0);t("GamePlayState",function(t){function e(){return t.call(this,a.GAME_PLAY)||this}r(e,t);var s=e.prototype;return s.enter=function(t,r){void 0===r&&(r={}),r.isRestart&&(this.ctrl.birdCtrl.resetPool(),this.ctrl.cameraCtrl.resetCamera()),this.ctrl.birdCtrl.setBirdsCount(this.ctrl.birdCtrl.startCount),this.ctrl.playerCtrl.resetPlayer(),this.ctrl.playerCtrl.startPlayer(),this.ctrl.hud.showGameHud(),this.ctrl.collisionCtrl.startCheck(),this.ctrl.playerCtrl.node.on(i.ON_DEAD,this.ctrl.gameOver,this.ctrl),this.ctrl.dataCtrl.node.on(c.CHANGE_SCORE,this.ctrl.increaseDifficulty,this.ctrl),l.once(i.IS_READY,this.ctrl.cameraCtrl.startFollow,this.ctrl.cameraCtrl)},s.update=function(t,r){},s.exit=function(t){this.ctrl.collisionCtrl.stopCheck(),this.ctrl.playerCtrl.node.off(i.ON_DEAD,this.ctrl.gameOver,this.ctrl),this.ctrl.dataCtrl.node.off(c.CHANGE_SCORE,this.ctrl.increaseDifficulty,this.ctrl)},e}(s));e._RF.pop()}}}));

System.register("chunks:///_virtual/HUD.ctrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./twa.ts","./game.model.ts"],(function(e){var t,i,a,r,n,o,c,l,s,u,p,h,v,f,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized,n=e.classPrivateFieldLooseBase,o=e.classPrivateFieldLooseKey},function(e){c=e.cclegacy,l=e._decorator,s=e.Node,u=e.Label,p=e.UIOpacity,h=e.tween,v=e.Component},function(e){f=e.twa},function(e){m=e.DataEvent}],execute:function(){var y,b,d,g,O,M,N,w,G,E,S,U,D,P,_,B,C;c._RF.push({},"8a2a3VP9n1MF5oZOfpuB92M","HUD.ctrl",void 0);var z=l.ccclass,H=l.property,A=e("HUDScreen",Object.freeze({MAIN_MENU:"MAIN_MENU",GAME_OVER:"GAME_OVER"}));e("HUDCtrl",(y=z("HUDCtrl"),b=H({type:s}),d=H({type:s}),g=H({type:s}),O=H({type:s}),M=H({type:u}),N=H({type:s}),y((B=o("screens"),C=o("scoreLabel"),E=t((G=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,a(t,"MainMenu",E,r(t)),a(t,"GameOver",S,r(t)),a(t,"Score",U,r(t)),a(t,"PauseBtn",D,r(t)),a(t,"UserName",P,r(t)),a(t,"DataNode",_,r(t)),Object.defineProperty(r(t),B,{writable:!0,value:void 0}),Object.defineProperty(r(t),C,{writable:!0,value:void 0}),t}i(t,e);var o=t.prototype;return o.onLoad=function(){var e;n(this,B)[B]=((e={})[A.MAIN_MENU]=this.MainMenu,e[A.GAME_OVER]=this.GameOver,e),n(this,C)[C]=this.Score.getComponent(u),this.DataNode.on(m.CHANGE_SCORE,this.changeScore,this)},o.start=function(){var e=f.getUser();this.UserName.string=e.username||e.first_name||"Player"},o.changeScore=function(e){n(this,C)[C].string=e.toString().padStart(4,"0")},o.showGameHud=function(){this.Score.active=!0,this.PauseBtn.active=!0},o.hideGameHud=function(){this.Score.active=!1,this.PauseBtn.active=!1},o.showScreen=function(e){Object.values(n(this,B)[B]).forEach((function(e){return e.active=!1})),n(this,B)[B][e].active=!0},o.hideScreen=function(){Object.values(n(this,B)[B]).forEach((function(e){return e.active=!1}))},o.showGameOver=function(){this.GameOver.active=!0;var e=this.GameOver.getChildByName("Bg").getComponent(p);h(e).to(1,{opacity:255}).start()},o.hideGameOver=function(){this.GameOver.active=!1,this.GameOver.getChildByName("Bg").getComponent(p).opacity=0},t}(v)).prototype,"MainMenu",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(G.prototype,"GameOver",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(G.prototype,"Score",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(G.prototype,"PauseBtn",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(G.prototype,"UserName",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(G.prototype,"DataNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=G))||w));c._RF.pop()}}}));

System.register("chunks:///_virtual/idle.state.ts",["./rollupPluginModLoBabelHelpers.js","cc","./state.ts","./inputCtrl.ts","./player.model.ts"],(function(t){var e,n,i,s,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.State},function(t){s=t.Key},function(t){c=t.PlayerStates}],execute:function(){n._RF.push({},"a459dOUuaVCRq7dGcPkcPml","idle.state",void 0);t("IdleState",function(t){function n(){return t.call(this,c.IDLE)||this}e(n,t);var i=n.prototype;return i.enter=function(t){this.ctrl.setCanMove(!0),this.ctrl.setSpeedMod(1)},i.update=function(t,e){t.input.cursors.has(s.UP)&&(this.ctrl.jump(),t.changeState(c.JUMPING))},i.exit=function(t){},n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/index.ts",["cc","./gamePlay.state.ts","./mainMenu.state.ts","./gameOver.state.ts","./preload.state.ts"],(function(t){var e;return{setters:[function(t){e=t.cclegacy},function(e){t("GamePlayState",e.GamePlayState)},function(e){t("MainMenuState",e.MainMenuState)},function(e){t("GameOverState",e.GameOverState)},function(e){t("PreloadState",e.PreloadState)}],execute:function(){e._RF.push({},"075a8palptKV7o6uMmXx0O3","index",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/index2.ts",["cc","./falling.state.ts","./jumping.state.ts","./idle.state.ts","./captured.state.ts"],(function(t){var e;return{setters:[function(t){e=t.cclegacy},function(e){t("FallingState",e.FallingState)},function(e){t("JumpingState",e.JumpingState)},function(e){t("IdleState",e.IdleState)},function(e){t("CapturedState",e.CapturedState)}],execute:function(){e._RF.push({},"d87f3/WD8dPaLfCxE3IeuuE","index",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/inputCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,s,o,i,n,r;return{setters:[function(e){t=e.classPrivateFieldLooseBase,s=e.classPrivateFieldLooseKey},function(e){o=e.cclegacy,i=e.input,n=e.Input,r=e.KeyCode}],execute:function(){o._RF.push({},"aa671IMXvBNEb/O4EEnZjiR","inputCtrl",void 0);var c=e("Key",Object.freeze({LEFT:"left",RIGHT:"right",UP:"up",DOWN:"down"})),h=s("startPos"),a=s("deadZoneX"),u=s("deadZoneY");e("InputCtrl",function(){function e(e){this.inputMethod=void 0,this.cursors=new Set,Object.defineProperty(this,h,{writable:!0,value:void 0}),Object.defineProperty(this,a,{writable:!0,value:15}),Object.defineProperty(this,u,{writable:!0,value:100})}var s=e.prototype;return s.initKeyboard=function(){i.on(n.EventType.KEY_DOWN,this.onKeyDown,this),i.on(n.EventType.KEY_UP,this.onKeyUp,this)},s.initTouch=function(){i.on(n.EventType.TOUCH_MOVE,this.onSwipeMove,this),i.on(n.EventType.TOUCH_MOVE,this.onSwipeMove,this),i.on(n.EventType.TOUCH_END,this.onTouchEnd,this),i.on(n.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},s.onTouchEnd=function(e){t(this,h)[h]=null,this.cursors.clear()},s.onSwipeMove=function(e){var s=e.touch.getLocationX(),o=e.touch.getLocationY();t(this,h)[h]||(t(this,h)[h]=e.touch.getStartLocation());var i=t(this,h)[h].x-s,n=t(this,h)[h].y-o;i>t(this,a)[a]?this.cursors.add(c.LEFT):i<-t(this,a)[a]?this.cursors.add(c.RIGHT):(this.cursors.delete(c.LEFT),this.cursors.delete(c.RIGHT)),n>t(this,u)[u]?this.cursors.add(c.DOWN):n<-t(this,u)[u]?this.cursors.add(c.UP):(this.cursors.delete(c.UP),this.cursors.delete(c.DOWN))},s.onKeyDown=function(e){switch(e.keyCode){case r.ARROW_LEFT:case r.KEY_A:this.cursors.add(c.LEFT);break;case r.ARROW_RIGHT:case r.KEY_D:this.cursors.add(c.RIGHT);break;case r.ARROW_UP:case r.KEY_W:case r.SPACE:this.cursors.add(c.UP);break;case r.ARROW_DOWN:case r.KEY_S:this.cursors.add(c.DOWN)}},s.onKeyUp=function(e){switch(e.keyCode){case r.ARROW_LEFT:case r.KEY_A:this.cursors.delete(c.LEFT);break;case r.ARROW_RIGHT:case r.KEY_D:this.cursors.delete(c.RIGHT);break;case r.ARROW_UP:case r.KEY_W:case r.SPACE:this.cursors.delete(c.UP);break;case r.ARROW_DOWN:case r.KEY_S:this.cursors.delete(c.DOWN)}},s.on=function(){this.initKeyboard(),this.initTouch()},s.off=function(){this.cursors.clear(),i.off(n.EventType.KEY_DOWN,this.onKeyDown,this),i.off(n.EventType.KEY_UP,this.onKeyUp,this),i.off(n.EventType.TOUCH_MOVE,this.onSwipeMove,this),i.off(n.EventType.TOUCH_MOVE,this.onSwipeMove,this),i.off(n.EventType.TOUCH_END,this.onTouchEnd,this),i.off(n.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},e}());o._RF.pop()}}}));

System.register("chunks:///_virtual/jumping.state.ts",["./rollupPluginModLoBabelHelpers.js","cc","./state.ts","./player.model.ts"],(function(t){var e,i,n,s,r,a,o;return{setters:[function(t){e=t.inheritsLoose,i=t.classPrivateFieldLooseBase,n=t.classPrivateFieldLooseKey,s=t.assertThisInitialized},function(t){r=t.cclegacy},function(t){a=t.State},function(t){o=t.PlayerStates}],execute:function(){r._RF.push({},"c18c5FkHi5OirmZJImzhi5G","jumping.state",void 0);var c=n("rb");t("JumpingState",function(t){function n(){var e;return e=t.call(this,o.JUMPING)||this,Object.defineProperty(s(e),c,{writable:!0,value:void 0}),e}e(n,t);var r=n.prototype;return r.enter=function(t){i(this,c)[c]=this.ctrl.getRb(),this.ctrl.setCanMove(!0),this.ctrl.setSpeedMod(.5)},r.update=function(t,e){i(this,c)[c].linearVelocity.y<0&&t.changeState(o.FALLING)},r.exit=function(t){},n}(a));r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Bird.ctrl.ts","./bird.model.ts","./bird.ts","./adaptiveView.ts","./eventBus.ts","./fms.ts","./state.ts","./twa.ts","./Camera.ctrl.ts","./Collision.ctrl.ts","./Data.ctrl.ts","./Game.ctrl.ts","./WorldBounds.ts","./game.model.ts","./inputCtrl.ts","./gameOver.state.ts","./gamePlay.state.ts","./index.ts","./mainMenu.state.ts","./preload.state.ts","./GameOver.script.ts","./HUD.ctrl.ts","./Player.ctrl.ts","./player.model.ts","./captured.state.ts","./falling.state.ts","./idle.state.ts","./index2.ts","./jumping.state.ts","./mockTg.ts","./utils.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/mainMenu.state.ts",["./rollupPluginModLoBabelHelpers.js","cc","./state.ts","./game.model.ts","./HUD.ctrl.ts"],(function(t){var e,n,r,i,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){r=t.State},function(t){i=t.GameStates},function(t){c=t.HUDScreen}],execute:function(){n._RF.push({},"7ebc6urBOlGxrtYTu8D72Ke","mainMenu.state",void 0);t("MainMenuState",function(t){function n(){return t.call(this,i.MAIN_MENU)||this}e(n,t);var r=n.prototype;return r.enter=function(t){this.ctrl.birdCtrl.resetPool(),this.ctrl.birdCtrl.setBirdsCount(this.ctrl.birdCtrl.idleCount),this.ctrl.cameraCtrl.resetCamera(),this.ctrl.hud.showScreen(c.MAIN_MENU)},r.update=function(t,e){},r.exit=function(t){this.ctrl.hud.hideScreen()},n}(r));n._RF.pop()}}}));

System.register("chunks:///_virtual/mockTg.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"9e3e318QppFwr0TCb1GS5BL","mockTg",void 0);var a=globalThis.TmaSdk,r={left:0,top:0,bottom:0,right:0},o={accent_text_color:"#6ab2f2",bg_color:"#17212b",button_color:"#5288c1",button_text_color:"#ffffff",destructive_text_color:"#ec3942",header_bg_color:"#17212b",hint_color:"#708499",link_color:"#6ab3f3",secondary_bg_color:"#232e3c",section_bg_color:"#17212b",section_header_text_color:"#6ab3f3",subtitle_text_color:"#708499",text_color:"#f5f5f5"},n=e("launchParams",{tgWebAppThemeParams:o,tgWebAppData:new URLSearchParams([["user",JSON.stringify({id:146942042,first_name:"Alexander",last_name:"Aleksei",username:"test user",language_code:"en",photo_url:"https://t.me/i/userpic/320/zRa3Rqg0QxgRxAHCtrRSdieAx0YwzMv6lrT_p7oXUiM.svg",signature:146942042})],["hash","test_hash"],["signature","test_signature"],["auth_date",Date.now().toString()]]),tgWebAppStartParam:"debug",tgWebAppVersion:"8",tgWebAppPlatform:"tdesktop"}),_=function(e){return"web_app_request_theme"===e[0]?a.emitEvent("theme_changed",{theme_params:o}):"web_app_request_viewport"===e[0]?a.emitEvent("viewport_changed",{height:window.innerHeight,width:window.innerWidth,is_expanded:!0,is_state_stable:!0}):"web_app_request_content_safe_area"===e[0]?a.emitEvent("content_safe_area_changed",r):"web_app_request_safe_area"===e[0]?a.emitEvent("safe_area_changed",r):void 0};e("mockTgData",(function(){return a.mockTelegramEnv({launchParams:n,onEvent:_})}));t._RF.pop()}}}));

System.register("chunks:///_virtual/Player.ctrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./inputCtrl.ts","./player.model.ts","./index2.ts","./eventBus.ts","./idle.state.ts","./jumping.state.ts","./falling.state.ts","./captured.state.ts"],(function(e){var t,i,s,n,a,o,r,l,c,h,u,d,p,y,f,b,v,P,w,g,m,C,N,O,B,S,A,I,j,D;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,s=e.initializerDefineProperty,n=e.assertThisInitialized,a=e.classPrivateFieldLooseBase,o=e.classPrivateFieldLooseKey},function(e){r=e.cclegacy,l=e._decorator,c=e.Node,h=e.CCFloat,u=e.CCInteger,d=e.Vec2,p=e.Vec3,y=e.RigidBody2D,f=e.BoxCollider2D,b=e.tween,v=e.math,P=e.Contact2DType,w=e.Component},function(e){g=e.InputCtrl,m=e.Key},function(e){C=e.PlayerFsm,N=e.PlayerEvents,O=e.PlayerStates},null,function(e){B=e.eventBus,S=e.GameEvents},function(e){A=e.IdleState},function(e){I=e.JumpingState},function(e){j=e.FallingState},function(e){D=e.CapturedState}],execute:function(){var E,_,F,R,L,T,Y,z,x,V,G,M,H,U,k,K,W,q,J,X,Q,Z,$,ee,te,ie;r._RF.push({},"47ce6YrEYRBzpLHqo+63Wm5","Player.ctrl",void 0);var se=l.ccclass,ne=l.property;e("PlayerCtrl",(E=se("PlayerCtrl"),_=ne({type:c}),F=ne({type:h}),R=ne({type:h}),L=ne({type:u}),T=ne({type:u}),E((U=o("startPosY"),k=o("startPosX"),K=o("rb"),W=o("playerFsm"),q=o("collider"),J=o("speedMod"),X=o("canMove"),Q=o("input"),Z=o("catchTween"),$=o("posY"),ee=o("_vec2"),te=o("_vec3"),ie=o("onlyBelow"),x=t((z=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,s(t,"playerNode",x,n(t)),s(t,"jumpForce",V,n(t)),s(t,"speed",G,n(t)),s(t,"deadDistance",M,n(t)),s(t,"readyPosY",H,n(t)),Object.defineProperty(n(t),U,{writable:!0,value:-10}),Object.defineProperty(n(t),k,{writable:!0,value:270}),Object.defineProperty(n(t),K,{writable:!0,value:void 0}),Object.defineProperty(n(t),W,{writable:!0,value:void 0}),Object.defineProperty(n(t),q,{writable:!0,value:void 0}),Object.defineProperty(n(t),J,{writable:!0,value:1}),Object.defineProperty(n(t),X,{writable:!0,value:!0}),Object.defineProperty(n(t),Q,{writable:!0,value:void 0}),Object.defineProperty(n(t),Z,{writable:!0,value:void 0}),Object.defineProperty(n(t),$,{writable:!0,value:0}),Object.defineProperty(n(t),ee,{writable:!0,value:new d}),Object.defineProperty(n(t),te,{writable:!0,value:new p}),Object.defineProperty(n(t),ie,{writable:!0,value:!1}),t.isPaused=!1,t.playerIsReady=!1,t}i(t,e);var o=t.prototype;return o.onLoad=function(){a(this,Q)[Q]=new g("auto"),a(this,W)[W]=new C(this,a(this,Q)[Q]),a(this,W)[W].addState(new A),a(this,W)[W].addState(new I),a(this,W)[W].addState(new j),a(this,W)[W].addState(new D)},o.start=function(){a(this,K)[K]=this.playerNode.getComponent(y),a(this,q)[q]=this.playerNode.getComponent(f),this.resetPlayer(),this.setActive(!1),B.on(S.CHANGE_PAUSE,this.changePause,this)},o.onDestroy=function(){var e;B.off(S.CHANGE_PAUSE,this.changePause,this),this.disablePlayer(),null==(e=a(this,Z)[Z])||e.stop(),a(this,Z)[Z]=null,a(this,W)[W].destroy()},o.update=function(e){!this.isPaused&&this.playerIsReady&&!1!==this.playerNode.active&&(a(this,Q)[Q].cursors.has(m.LEFT)?this.move(-1):a(this,Q)[Q].cursors.has(m.RIGHT)?this.move(1):this.move(0),a(this,W)[W].update(e))},o.changePause=function(e){var t,i;(this.isPaused=e,e)?(null==(t=a(this,Z)[Z])||t.pause(),this.disablePlayer()):(null==(i=a(this,Z)[Z])||i.resume(),this.enablePlayer())},o.faceDirection=function(e){if(0!==e){var t=this.playerNode.scale,i=Math.abs(t.x),s=e<0?-i:i;t.x!==s&&this.playerNode.setScale(s,t.y,t.z)}},o.onContact=function(e,t){switch(t.node.name){case"left":case"right":this.node.emit(N.TOUCH_BOUNDS);break;case"Island":this.playerIsReady||(this.playerIsReady=!0,B.emit(N.IS_READY,!0)),a(this,W)[W].changeState(O.IDLE);break;case"bottom":if(!this.playerIsReady)return;this.deadPlayer()}},o.startPlayer=function(){var e=this;this.setActive(!0),this.setActiveBody(!1),a(this,te)[te].set(0,this.readyPosY,0),b(this.playerNode).by(.5,{position:a(this,te)[te]},{easing:"sineOut"}).call((function(){e.setActiveBody(!0),e.enablePlayer(),a(e,W)[W].changeState(O.FALLING)})).start()},o.resetPlayer=function(){this.playerNode.setPosition(a(this,k)[k],a(this,U)[U],1),a(this,J)[J]=1,a(this,X)[X]=!0,a(this,ee)[ee].set(0,0),a(this,te)[te].set(0,0,0),a(this,K)[K].linearVelocity=a(this,ee)[ee],a(this,ie)[ie]=!1,this.playerIsReady=!1},o.onBirdCollision=function(e){a(this,ie)[ie]&&this.playerNode.position.y<e.bird.node.position.y||a(this,W)[W].changeState(O.CAPTURED,e.bird)},o.move=function(e){this.faceDirection(e);var t=a(this,K)[K].linearVelocity;a(this,X)[X]&&0!==e?(a(this,ee)[ee].set(this.speed*a(this,J)[J]*e,t.y),a(this,K)[K].linearVelocity=a(this,ee)[ee]):0!==t.x&&(a(this,ee)[ee].set(0,t.y),a(this,K)[K].linearVelocity=a(this,ee)[ee])},o.moveWithBird=function(e){this.playerNode.setPosition(e.node.position.x,this.playerNode.position.y,this.playerNode.position.z)},o.jump=function(){a(this,ee)[ee].set(a(this,K)[K].linearVelocity.x,this.jumpForce),a(this,K)[K].linearVelocity=a(this,ee)[ee]},o.setCaptureOnlyBelow=function(e){a(this,ie)[ie]=e},o.startCaptureBird=function(e,t){var i,s=this;this.setActiveBody(!1),null==(i=a(this,Z)[Z])||i.stop();var n=this.playerNode.position.clone(),o={progress:0},r=new p,l=new p,c=p.distance(n,e.position),h=v.clamp(Math.abs(a(this,K)[K].linearVelocity.y),0,30),u=.1+c/3*.01;a(this,Z)[Z]=b(o).to(u,{progress:1},{onUpdate:function(t){var i=t.progress,a=e.getPosition(),c=.7*h*i*Math.pow(1-i,2);r.set(a.x,a.y,0),p.lerp(l,n,r,o.progress),s.playerNode.setPosition(l.x,l.y+c,l.z)}}).call((function(){a(s,K)[K].linearVelocity=new d(0,0),t()})).start()},o.changePositionY=function(){var e=Math.floor(this.playerNode.position.y);e!==a(this,$)[$]&&(a(this,$)[$]=e,B.emit(N.CHANGE_POSITION_Y,this.playerNode.position.y))},o.dropBird=function(){this.setCaptureOnlyBelow(!0),a(this,W)[W].changeState(O.FALLING)},o.deadPlayer=function(){this.node.emit(N.ON_DEAD)},o.setActiveBody=function(e){a(this,K)[K].enabled=e},o.setActive=function(e){this.playerNode.active=e},o.getRb=function(){return a(this,K)[K]},o.enablePlayer=function(){this.disablePlayer(),a(this,q)[q].on(P.BEGIN_CONTACT,this.onContact,this),this.schedule(this.changePositionY,.05),a(this,Q)[Q].on()},o.disablePlayer=function(){a(this,q)[q].off(P.BEGIN_CONTACT,this.onContact,this),this.unschedule(this.changePositionY),a(this,Q)[Q].off()},o.setCanMove=function(e){a(this,X)[X]=e},o.setSpeedMod=function(e){a(this,J)[J]=e},t}(w)).prototype,"playerNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(z.prototype,"jumpForce",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),G=t(z.prototype,"speed",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=t(z.prototype,"deadDistance",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),H=t(z.prototype,"readyPosY",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 300}}),Y=z))||Y));r._RF.pop()}}}));

System.register("chunks:///_virtual/player.model.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fms.ts"],(function(e){var t,n,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){r=e.FSM}],execute:function(){n._RF.push({},"b426b92AtRFC6MOpBGJw3G0","player.model",void 0);e("PlayerStates",Object.freeze({IDLE:"IDLE",JUMPING:"JUMPING",FALLING:"FALLING",CAPTURED:"CAPTURED",BONUS:"BONUS"})),e("PlayerEvents",Object.freeze({ON_GROUND:"ON_GROUND",TOUCH_BOUNDS:"TOUCH_BOUNDS",ON_DEAD:"ON_DEAD",CHANGE_POSITION_Y:"CHANGE_POSITION_Y",IS_READY:"IS_READY"})),e("PlayerFsm",function(e){function n(t,n){var r;return(r=e.call(this,t)||this).input=n,r}return t(n,e),n}(r));n._RF.pop()}}}));

System.register("chunks:///_virtual/preload.state.ts",["./rollupPluginModLoBabelHelpers.js","cc","./state.ts","./game.model.ts","./twa.ts"],(function(t){var e,n,o,a,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.State},function(t){a=t.GameStates},function(t){c=t.twa}],execute:function(){n._RF.push({},"aa1c2lew35DqK7//jcoaxgz","preload.state",void 0);t("PreloadState",function(t){function n(){return t.call(this,a.PRELOAD)||this}e(n,t);var o=n.prototype;return o.enter=function(t){c.initSDK(),t.changeState(a.MAIN_MENU)},o.update=function(t,e){},o.exit=function(t){},n}(o));n._RF.pop()}}}));

System.register("chunks:///_virtual/state.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"7888f6GEatFtpUqiHdG7/as","state",void 0);t("State",function(){function t(t){this.name=void 0,this.ctrl=void 0,this.name=t}return t.prototype.setCtrl=function(t){this.ctrl=t},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/twa.ts",["./rollupPluginModLoBabelHelpers.js","cc","./mockTg.ts","./utils.ts"],(function(t){var i,e,s,n,r,a;return{setters:[function(t){i=t.classPrivateFieldLooseBase,e=t.classPrivateFieldLooseKey,s=t.asyncToGenerator},function(t){n=t.cclegacy},function(t){r=t.mockTgData},function(t){a=t.delay}],execute:function(){n._RF.push({},"bbeb6u+0gtOvrMIAjLBr/vq","twa",void 0);var o=e("isDebug"),c=e("tma"),u=t("Twa",function(){function t(t){this.isReady=!1,Object.defineProperty(this,o,{writable:!0,value:!1}),Object.defineProperty(this,c,{writable:!0,value:void 0}),i(this,o)[o]=t,i(this,c)[c]=globalThis.TmaSdk}var e=t.prototype;return e.initSDK=function(){var t=s((function*(){(yield i(this,c)[c].isTMA())||r();try{i(this,c)[c].init(),i(this,c)[c].miniApp.isMounted()||i(this,c)[c].miniApp.mount(),i(this,c)[c].miniApp.ready(),i(this,c)[c].viewport.isMounted()||(i(this,c)[c].viewport.mount(),yield a(100)),i(this,c)[c].viewport.isExpanded()||i(this,c)[c].viewport.expand(),i(this,c)[c].viewport.bindCssVars(),i(this,o)[o]&&console.log("Telegram SDK ON")}catch(t){i(this,o)[o]&&console.log("Telegram SDK OFF")}this.isReady=!0}));return function(){return t.apply(this,arguments)}}(),e.getUser=function(){var t=i(this,c)[c].retrieveLaunchParams().tgWebAppData;return null==t?void 0:t.user},e.triggerHaptic=function(t){void 0===t&&(t="light"),i(this,c)[c].hapticFeedback.impactOccurred(t)},e.getInitData=function(){if(this.isReady)return i(this,c)[c].retrieveRawInitData()},t}());t("twa",new u(!0));n._RF.pop()}}}));

System.register("chunks:///_virtual/utils.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,e;return{setters:[function(n){t=n.asyncToGenerator},function(n){e=n.cclegacy}],execute:function(){e._RF.push({},"82fb96QJiNNPYf6U6XlO5Pq","utils",void 0);n("delay",function(){var n=t((function*(n){return new Promise((function(t,e){return setTimeout(t,n)}))}));return function(t){return n.apply(this,arguments)}}());e._RF.pop()}}}));

System.register("chunks:///_virtual/WorldBounds.ts",["./rollupPluginModLoBabelHelpers.js","cc","./eventBus.ts","./player.model.ts"],(function(e){var t,i,o,s,n,r,l,a,u,c;return{setters:[function(e){t=e.inheritsLoose,i=e.classPrivateFieldLooseBase,o=e.classPrivateFieldLooseKey,s=e.assertThisInitialized},function(e){n=e.cclegacy,r=e._decorator,l=e.view,a=e.Component},function(e){u=e.eventBus},function(e){c=e.PlayerEvents}],execute:function(){var h,d,v,f;n._RF.push({},"b3a55/zlj9K7L88fuM0W7Ea","WorldBounds",void 0);var y=r.ccclass;e("WorldBounds",y("WorldBounds")((d=o("leftBound"),v=o("rightBound"),f=o("size"),h=function(e){function o(){for(var t,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return t=e.call.apply(e,[this].concat(o))||this,Object.defineProperty(s(t),d,{writable:!0,value:void 0}),Object.defineProperty(s(t),v,{writable:!0,value:void 0}),Object.defineProperty(s(t),f,{writable:!0,value:void 0}),t}t(o,e);var n=o.prototype;return n.onLoad=function(){i(this,f)[f]=l.getVisibleSize(),i(this,d)[d]=this.node.getChildByName("left"),i(this,v)[v]=this.node.getChildByName("right"),u.on(c.CHANGE_POSITION_Y,this.moveWithPlayer,this)},n.onDestroy=function(){u.off(c.CHANGE_POSITION_Y,this.moveWithPlayer,this)},n.moveWithPlayer=function(e){var t=e-i(this,f)[f].height/2;i(this,d)[d].setPosition(i(this,d)[d].position.x,t,0),i(this,v)[v].setPosition(i(this,v)[v].position.x,t,0)},o}(a)))||h);n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});