System.register("chunks:///_virtual/adaptiveView.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,t,n,s,o,a,h;return{setters:[function(e){i=e.inheritsLoose},function(e){t=e.cclegacy,n=e._decorator,s=e.view,o=e.screen,a=e.ResolutionPolicy,h=e.Component}],execute:function(){var r;t._RF.push({},"6c60dwRtv1LOaYg6ypxsakg","adaptiveView",void 0);var c=n.ccclass;e("adaptiveView",c("adaptiveView")(r=function(e){function t(){for(var i,t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return(i=e.call.apply(e,[this].concat(n))||this).designWidth=0,i.designHeight=0,i}i(t,e);var n=t.prototype;return n.start=function(){var e=s.getDesignResolutionSize();this.designWidth=e.width,this.designHeight=e.height,this.onResize(),s.on("canvas-resize",this.onResize,this)},n.onDestroy=function(){s.off("canvas-resize",this.onResize,this)},n.onResize=function(){var e=o.windowSize,i=Math.max(this.designWidth/e.width,this.designHeight/e.height),t=e.width*i,n=e.height*i;s.setDesignResolutionSize(t,n,a.SHOW_ALL),console.log("onResize")},t}(h))||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/Bird.ctrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./bird.ts","./utils.ts","./bird.model.ts","./eventBus.ts","./player.model.ts"],(function(e){var t,i,n,r,a,s,o,l,u,c,h,d,p,f,b,y,m,v,g,w,P,C,S,z,B,O;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.classPrivateFieldLooseBase,s=e.createForOfIteratorHelperLoose,o=e.classPrivateFieldLooseKey,l=e.asyncToGenerator},function(e){u=e.cclegacy,c=e._decorator,h=e.Prefab,d=e.Node,p=e.CCInteger,f=e.CCFloat,b=e.NodePool,y=e.Vec3,m=e.view,v=e.instantiate,g=e.math,w=e.Component},function(e){P=e.Bird},function(e){C=e.delay},function(e){S=e.birdEvents},function(e){z=e.eventBus,B=e.GameEvents},function(e){O=e.PlayerEvents}],execute:function(){var R,_,D,E,x,A,j,I,N,G,L,Y,F,H,k,T,U,V,K,M,q,J,W,X,Q,Z,$,ee,te,ie,ne;u._RF.push({},"3da05X7JS9GhqegUK1rGiNy","Bird.ctrl",void 0);var re=c.ccclass,ae=c.property;e("BirdCtrl",(R=re("BirdCtrl"),_=ae({type:h}),D=ae({type:d}),E=ae({type:p}),x=ae({type:p}),A=ae({type:f}),j=ae({type:f}),I=ae({type:p}),N=ae({type:p}),G=ae({type:p}),L=ae({type:p}),R((X=o("activeBirds"),Q=o("pull"),Z=o("_vec3"),$=o("worldSize"),ee=o("removeCount"),te=o("playerY"),ie=o("spawnRegions"),ne=o("spawnRegionsWeights"),H=t((F=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,n(t,"bird",H,r(t)),n(t,"container",k,r(t)),n(t,"minSpeed",T,r(t)),n(t,"maxSpeed",U,r(t)),n(t,"minScale",V,r(t)),n(t,"maxScale",K,r(t)),n(t,"idleCount",M,r(t)),n(t,"startCount",q,r(t)),n(t,"minBirdsCount",J,r(t)),n(t,"spawnDelay",W,r(t)),Object.defineProperty(r(t),X,{writable:!0,value:new Set}),Object.defineProperty(r(t),Q,{writable:!0,value:new b}),Object.defineProperty(r(t),Z,{writable:!0,value:new y}),Object.defineProperty(r(t),$,{writable:!0,value:void 0}),Object.defineProperty(r(t),ee,{writable:!0,value:0}),Object.defineProperty(r(t),te,{writable:!0,value:0}),Object.defineProperty(r(t),ie,{writable:!0,value:[]}),Object.defineProperty(r(t),ne,{writable:!0,value:[3,2,1]}),t.isPaused=!1,t}i(t,e);var o=t.prototype;return o.onLoad=function(){a(this,$)[$]=m.getVisibleSize(),this.initPool(this.idleCount+this.startCount),z.on(O.CHANGE_POSITION_Y,this.setPlayerY,this),z.on(B.CHANGE_PAUSE,this.changePause,this)},o.update=function(e){if(!this.isPaused)for(var t,i=s(a(this,X)[X]);!(t=i()).done;){var n=t.value;n.tick(e),this.checkOutOfBounds(n)}},o.onDestroy=function(){z.off(O.CHANGE_POSITION_Y,this.setPlayerY,this),z.off(B.CHANGE_PAUSE,this.changePause,this)},o.setPlayerY=function(e){a(this,te)[te]=e},o.changePause=function(e){this.isPaused=e},o.initPool=function(e){for(var t=e||this.idleCount+this.startCount,i=0;i<t;i++)a(this,Q)[Q].put(v(this.bird))},o.resetPool=function(){var e=this;a(this,X)[X].forEach((function(t){return e.removeBird(t)})),a(this,X)[X].clear()},o.addBirds=function(){var e=l((function*(e){for(var t=0;t<e;)if(this.isPaused)yield C(this.spawnDelay);else{var i=a(this,Q)[Q].get()||v(this.bird),n=i.getComponent(P),r=this.getSpawnParams(n.getSize());a(this,X)[X].add(n),this.container.addChild(i),n.respawn(r.pos,r.scale,r.direction,r.speed),z.emit(B.ADD_BIRD,n),t++,yield C(this.spawnDelay)}}));return function(t){return e.apply(this,arguments)}}(),o.setBirdsCount=function(e){e<a(this,X)[X].size?a(this,ee)[ee]=a(this,X)[X].size-e:e>a(this,X)[X].size&&this.addBirds(e-a(this,X)[X].size)},o.setRemoveCount=function(e){a(this,ee)[ee]=e},o.removeBird=function(e){z.emit(B.REMOVE_BIRD,e),a(this,X)[X].delete(e),a(this,Q)[Q].put(e.node),a(this,ee)[ee]--},o.getSpawnParams=function(e){var t=g.random()>.5?1:-1,i=g.randomRange(this.minScale,this.maxScale),n=e*i,r=g.randomRange(this.minSpeed,this.maxSpeed),s=t>0?-n:a(this,$)[$].width+n,o=a(this,$)[$].height/2,l=a(this,te)[te];a(this,ie)[ie][0]=[l,l+o],a(this,ie)[ie][1]=[l+o,l+2*o],a(this,ie)[ie][2]=[l+2*o,l+3*o],l>a(this,$)[$].height&&(a(this,ie)[ie][3]=[l-o,l],a(this,ne)[ne].push(1));for(var u=a(this,ne)[ne].reduce((function(e,t){return e+t}),0),c=g.randomRange(0,u),h=0,d=0;d<a(this,ie)[ie].length;d++){if(c<a(this,ne)[ne][d]){h=d;break}c-=a(this,ne)[ne][d]}var p=a(this,ie)[ie][h],f=g.randomRange(p[0],p[1]);return a(this,Z)[Z].set(s,f,1),{pos:a(this,Z)[Z],scale:i,direction:t,speed:r}},o.checkOutOfBounds=function(e){e.node.getPosition(a(this,Z)[Z]);var t=e.getSize()*e.scale;if((e.direction>0&&a(this,Z)[Z].x>a(this,$)[$].width-t/2||e.direction<0&&a(this,Z)[Z].x<t/2)&&(e.setCanCapture(!1),e.node.emit(S.DROP_PLAYER)),e.direction>0&&a(this,Z)[Z].x>a(this,$)[$].width+t||e.direction<0&&a(this,Z)[Z].x<-t)if(a(this,ee)[ee]>0&&a(this,X)[X].size>0)this.removeBird(e);else{var i=this.getSpawnParams(e.getSize());e.respawn(i.pos,i.scale,i.direction,i.speed)}},o.getActiveBirdsCount=function(){return a(this,X)[X].size},t}(w)).prototype,"bird",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(F.prototype,"container",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(F.prototype,"minSpeed",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),U=t(F.prototype,"maxSpeed",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),V=t(F.prototype,"minScale",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),K=t(F.prototype,"maxScale",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=t(F.prototype,"idleCount",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),q=t(F.prototype,"startCount",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),J=t(F.prototype,"minBirdsCount",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),W=t(F.prototype,"spawnDelay",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Y=F))||Y));u._RF.pop()}}}));

System.register("chunks:///_virtual/bird.model.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"56525hYM+5PpJ2L7GQrmvop","bird.model",void 0);e("birdEvents",Object.freeze({DROP_PLAYER:"DROP_PLAYER"}));t._RF.pop()}}}));

System.register("chunks:///_virtual/bird.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,s,o,r,c,a,d;return{setters:[function(e){t=e.inheritsLoose,i=e.classPrivateFieldLooseBase,n=e.classPrivateFieldLooseKey,s=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,c=e.UITransform,a=e.Vec3,d=e.Component}],execute:function(){var h,u,l;o._RF.push({},"85dcc5Gf/5HbbN/ynKEYnhi","bird",void 0);var p=r.ccclass;e("Bird",p("Bird")((u=n("speed"),l=n("_vec3"),h=function(e){function n(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,Object.defineProperty(s(t),u,{writable:!0,value:0}),Object.defineProperty(s(t),l,{writable:!0,value:new a}),t.scale=0,t.direction=0,t.size=0,t.canCapture=!0,t.captured=!1,t.speedMod=1,t}t(n,e);var o=n.prototype;return o.start=function(){this.size=this.node.getComponent(c).width},o.getSize=function(){return this.node.getComponent(c).width},o.move=function(e){this.node.getPosition(i(this,l)[l]),i(this,l)[l].x+=i(this,u)[u]*this.speedMod*this.direction*e,this.node.setPosition(i(this,l)[l])},o.respawn=function(e,t,n,s){this.scale=t,this.direction=n,i(this,u)[u]=s,this.canCapture=!0,this.node.setPosition(e),this.node.setScale(t*(-1*n),t,1)},o.setSpeedMod=function(e){void 0===e&&(e=1),this.speedMod=e},o.setDirection=function(e){this.direction=e},o.setScale=function(e){this.scale=e},o.setCanCapture=function(e){this.canCapture=e},o.tick=function(e){this.move(e)},n}(d)))||h);o._RF.pop()}}}));

System.register("chunks:///_virtual/Camera.ctrl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,r,a,o,n,l,s,c,u,p,h,f,b,y,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.classPrivateFieldLooseBase,n=e.classPrivateFieldLooseKey},function(e){l=e.cclegacy,s=e._decorator,c=e.Node,u=e.CCFloat,p=e.CCBoolean,h=e.CCInteger,f=e.Vec3,b=e.view,y=e.math,d=e.Component}],execute:function(){var m,g,w,v,P,z,C,Y,_,B,k,X,j,F,L,M,O,W,x,V,D,S,I,N,R,q,A,H;l._RF.push({},"f66fdzri4FPSL6zz83NBqoL","Camera.ctrl",void 0);var K=s.ccclass,T=s.property;e("CameraCtrl",(m=K("CameraCtrl"),g=T({type:c}),w=T({type:c}),v=T({type:c}),P=T({type:u}),z=T({type:p}),C=T({type:p}),Y=T({type:u}),_=T({type:u}),B=T({type:h}),k=T({type:p}),m((N=n("_offsetY"),R=n("_size"),q=n("_targetVec3"),A=n("_cameraVec3"),H=n("_startWorldY"),F=t((j=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return t=e.call.apply(e,[this].concat(o))||this,r(t,"target",F,a(t)),r(t,"camera",L,a(t)),r(t,"world",M,a(t)),r(t,"offsetY",O,a(t)),r(t,"lockX",W,a(t)),r(t,"lockY",x,a(t)),r(t,"lerpX",V,a(t)),r(t,"lerpY",D,a(t)),r(t,"startPosition",S,a(t)),r(t,"useBounds",I,a(t)),Object.defineProperty(a(t),N,{writable:!0,value:0}),Object.defineProperty(a(t),R,{writable:!0,value:void 0}),Object.defineProperty(a(t),q,{writable:!0,value:new f}),Object.defineProperty(a(t),A,{writable:!0,value:new f}),Object.defineProperty(a(t),H,{writable:!0,value:void 0}),t}i(t,e);var n=t.prototype;return n.start=function(){o(this,R)[R]=b.getVisibleSize(),o(this,N)[N]=o(this,R)[R].height*this.offsetY,o(this,H)[H]=this.startPosition+o(this,R)[R].height/2},n.resetCamera=function(){this.camera.setWorldPosition(this.camera.worldPositionX,o(this,H)[H],this.camera.worldPositionZ)},n.lateUpdate=function(){if(this.target&&this.target.active&&this.camera){this.target.getWorldPosition(o(this,q)[q]),this.camera.getWorldPosition(o(this,A)[A]);var e=this.lockX?o(this,A)[A].x:y.lerp(o(this,A)[A].x,o(this,q)[q].x,this.lerpX),t=this.lockY?o(this,A)[A].y:y.lerp(o(this,A)[A].y,o(this,q)[q].y+o(this,N)[N],this.lerpY),i=this.useBounds?y.clamp(Math.round(e),0,o(this,R)[R].width):Math.round(e),r=this.useBounds?y.clamp(Math.round(t),o(this,H)[H],1e6):Math.round(t);this.camera.setWorldPosition(i,r,o(this,A)[A].z)}},t}(d)).prototype,"target",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(j.prototype,"camera",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(j.prototype,"world",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(j.prototype,"offsetY",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),W=t(j.prototype,"lockX",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=t(j.prototype,"lockY",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),V=t(j.prototype,"lerpX",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),D=t(j.prototype,"lerpY",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),S=t(j.prototype,"startPosition",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),I=t(j.prototype,"useBounds",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),X=j))||X));l._RF.pop()}}}));

System.register("chunks:///_virtual/captured.state.ts",["./rollupPluginModLoBabelHelpers.js","cc","./bird.model.ts","./state.ts","./inputCtrl.ts","./player.model.ts"],(function(t){var e,i,s,r,n,o,c,a,l;return{setters:[function(t){e=t.inheritsLoose,i=t.classPrivateFieldLooseBase,s=t.classPrivateFieldLooseKey,r=t.assertThisInitialized},function(t){n=t.cclegacy},function(t){o=t.birdEvents},function(t){c=t.State},function(t){a=t.Key},function(t){l=t.PlayerStates}],execute:function(){n._RF.push({},"6bbc1dB05tCX6/poIEVb2rY","captured.state",void 0);var u=s("isCompleted"),d=s("bird");t("CapturedState",function(t){function s(){var e;return e=t.call(this,l.CAPTURED)||this,Object.defineProperty(r(e),u,{writable:!0,value:!1}),Object.defineProperty(r(e),d,{writable:!0,value:void 0}),e}e(s,t);var n=s.prototype;return n.enter=function(t,e){var s=this;this.ctrl.setCanMove(!1),this.ctrl.setActiveBody(!1),i(this,u)[u]=!1,i(this,d)[d]=e,i(this,d)[d].setSpeedMod(.5),this.ctrl.startCaptureBird(e.node,(function(){return i(s,u)[u]=!0})),i(this,d)[d].node.on(o.DROP_PLAYER,this.ctrl.dropPlayer,this.ctrl)},n.update=function(t,e){i(this,u)[u]&&(this.ctrl.moveWithBird(i(this,d)[d]),t.input.cursors.has(a.UP)&&(this.ctrl.jump(),t.changeState(l.JUMPING)))},n.exit=function(t){this.ctrl.setCanMove(!0),this.ctrl.setActiveBody(!0),i(this,d)[d].setSpeedMod(),i(this,d)[d].node.off(o.DROP_PLAYER,this.ctrl.dropPlayer,this.ctrl),i(this,d)[d]=null},s}(c));n._RF.pop()}}}));

System.register("chunks:///_virtual/Collision.ctrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./eventBus.ts","./player.model.ts"],(function(e){var t,i,o,r,s,n,a,l,h,c,u,d,f,p,y,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized,s=e.classPrivateFieldLooseBase,n=e.createForOfIteratorHelperLoose,a=e.classPrivateFieldLooseKey},function(e){l=e.cclegacy,h=e._decorator,c=e.Node,u=e.CCInteger,d=e.CCFloat,f=e.Component},function(e){p=e.eventBus,y=e.GameEvents},function(e){v=e.PlayerEvents}],execute:function(){var C,b,g,I,A,D,P,R,m,_,E;l._RF.push({},"2533cyZY6FB+4hILxb9ofoH","Collision.ctrl",void 0);var B=h.ccclass,L=h.property;e("CollisionCtrl",(C=B("CollisionCtrl"),b=L({type:c}),g=L({type:u}),I=L({type:d}),C((_=a("targets"),E=a("playerIsReady"),P=t((D=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return t=e.call.apply(e,[this].concat(s))||this,o(t,"playerNode",P,r(t)),o(t,"hitArea",R,r(t)),o(t,"timeout",m,r(t)),Object.defineProperty(r(t),_,{writable:!0,value:new Set}),Object.defineProperty(r(t),E,{writable:!0,value:!1}),t.isPaused=!1,t}i(t,e);var a=t.prototype;return a.onLoad=function(){p.on(y.ADD_BIRD,this.addTarget,this),p.on(y.REMOVE_BIRD,this.removeTarget,this),p.on(y.CHANGE_PAUSE,this.changePause,this),p.on(v.IS_READY,this.setIsReady,this)},a.onDestroy=function(){p.off(y.ADD_BIRD,this.addTarget,this),p.off(y.REMOVE_BIRD,this.removeTarget,this),p.off(y.CHANGE_PAUSE,this.changePause,this),p.off(v.IS_READY,this.setIsReady,this)},a.setIsReady=function(e){s(this,E)[E]=e},a.changePause=function(e){this.isPaused=e},a.startCheck=function(){this.unschedule(this.checkCollision),this.schedule(this.checkCollision,this.timeout)},a.stopCheck=function(){this.unschedule(this.checkCollision)},a.addTarget=function(e){s(this,_)[_].add(e)},a.removeTarget=function(e){s(this,_)[_].delete(e)},a.checkCollision=function(){if(!this.isPaused&&s(this,E)[E])for(var e,t=n(s(this,_)[_]);!(e=t()).done;){var i=e.value;if(i.node.active&&i.canCapture){var o=i.node.x-this.playerNode.x,r=i.node.y-this.playerNode.y;if(!(Math.abs(o)>this.hitArea||Math.abs(r)>this.hitArea))if(o*o+r*r<this.hitArea*this.hitArea)return void p.emit(y.BIRD_COLLISION,{player:this.playerNode,bird:i})}}},t}(f)).prototype,"playerNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(D.prototype,"hitArea",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),m=t(D.prototype,"timeout",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),A=D))||A));l._RF.pop()}}}));

System.register("chunks:///_virtual/Data.ctrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./game.model.ts","./player.model.ts","./eventBus.ts"],(function(t){var e,n,o,r,i,s,a,c,l,u,f,h;return{setters:[function(t){e=t.inheritsLoose,n=t.classPrivateFieldLooseBase,o=t.classPrivateFieldLooseKey,r=t.assertThisInitialized,i=t.asyncToGenerator},function(t){s=t.cclegacy,a=t._decorator,c=t.view,l=t.Component},function(t){u=t.DataEvent},function(t){f=t.PlayerEvents},function(t){h=t.eventBus}],execute:function(){var p,v,y,P;s._RF.push({},"34bd3elFvpB1p8GHHCtH0pf","Data.ctrl",void 0);var d=a.ccclass;a.property,t("DataCtrl",d("DataCtrl")((v=o("score"),y=o("totalScore"),P=o("startPosY"),p=function(t){function o(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o))||this,Object.defineProperty(r(e),v,{writable:!0,value:0}),Object.defineProperty(r(e),y,{writable:!0,value:0}),Object.defineProperty(r(e),P,{writable:!0,value:0}),e}e(o,t);var s=o.prototype;return s.onLoad=function(){n(this,P)[P]=c.getVisibleSize().height/2,h.on(f.CHANGE_POSITION_Y,this.changePlayerPosition,this)},s.onDestroy=function(){h.off(f.CHANGE_POSITION_Y,this.changePlayerPosition,this)},s.changePlayerPosition=function(t){var e=Math.floor((t-n(this,P)[P])/100);e>n(this,v)[v]&&this.setScore(e)},s.getUserData=function(){var t=i((function*(){}));return function(){return t.apply(this,arguments)}}(),s.setScore=function(t){n(this,v)[v]=t,this.node.emit(u.CHANGE_SCORE,t)},s.getScore=function(){return n(this,v)[v]},s.getTotalScore=function(){return n(this,y)[y]},s.resetScore=function(){this.setScore(0)},o}(l)))||p);s._RF.pop()}}}));

System.register("chunks:///_virtual/eventBus.ts",["cc"],(function(e){var t,n;return{setters:[function(e){t=e.cclegacy,n=e.EventTarget}],execute:function(){t._RF.push({},"4f709o7C3FOfJUq85JOiOMc","eventBus",void 0);e("eventBus",new n),e("GameEvents",Object.freeze({ADD_BIRD:"ADD_BIRD",REMOVE_BIRD:"REMOVE_BIRD",BIRD_COLLISION:"BIRD_COLLISION",CHANGE_PAUSE:"CHANGE_PAUSE"}));t._RF.pop()}}}));

System.register("chunks:///_virtual/falling.state.ts",["./rollupPluginModLoBabelHelpers.js","cc","./eventBus.ts","./state.ts","./player.model.ts"],(function(t){var e,i,s,n,l,a,r,o,c;return{setters:[function(t){e=t.inheritsLoose,i=t.classPrivateFieldLooseBase,s=t.classPrivateFieldLooseKey,n=t.assertThisInitialized},function(t){l=t.cclegacy},function(t){a=t.eventBus,r=t.GameEvents},function(t){o=t.State},function(t){c=t.PlayerStates}],execute:function(){l._RF.push({},"7ebd8e8IypNmbaWge2riKVB","falling.state",void 0);var u=s("startFallPoint");t("FallingState",function(t){function s(){var e;return e=t.call(this,c.FALLING)||this,Object.defineProperty(n(e),u,{writable:!0,value:void 0}),e}e(s,t);var l=s.prototype;return l.enter=function(t){this.ctrl.setCanMove(!0),this.ctrl.setSpeedMod(.5),i(this,u)[u]=this.ctrl.playerNode.y,a.on(r.BIRD_COLLISION,this.ctrl.onBirdCollision,this.ctrl)},l.update=function(t,e){this.checkFallDistance(t)},l.exit=function(t){this.ctrl.setSpeedMod(1),i(this,u)[u]=0,a.off(r.BIRD_COLLISION,this.ctrl.onBirdCollision,this.ctrl)},l.checkFallDistance=function(t){Math.abs(this.ctrl.playerNode.y-i(this,u)[u])>this.ctrl.deadDistance&&this.ctrl.deadPlayer()},s}(o));l._RF.pop()}}}));

System.register("chunks:///_virtual/fms.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"8b03bLZVNlOeqZfd8Ybvu9p","fms",void 0);t("FSM",function(){function t(t){this.currentState=void 0,this.states=void 0,this.owner=void 0,this.owner=t,this.states=new Map,this.currentState=null}var e=t.prototype;return e.destroy=function(){this.states.clear(),this.currentState=null},e.addState=function(t){var e=this.owner;t.setCtrl(e),this.states.set(t.name,t)},e.changeState=function(t,e){var n=this.states.get(t);n?(this.currentState&&this.currentState.exit(this),this.currentState=n,this.currentState.enter(this,e),console.log("State changed to",t)):console.error("State "+t+" not found!")},e.update=function(t){this.currentState&&this.currentState.update(this,t)},e.getCurrentState=function(){return this.currentState},e.getOwner=function(){return this.owner},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Game.ctrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Collision.ctrl.ts","./game.model.ts","./index.ts","./Bird.ctrl.ts","./Player.ctrl.ts","./HUD.ctrl.ts","./Data.ctrl.ts","./eventBus.ts","./Camera.ctrl.ts","./mainMenu.state.ts","./gamePlay.state.ts","./gameOver.state.ts","./preload.state.ts"],(function(t){var e,i,a,r,n,l,s,o,u,c,d,h,p,f,m,y,C,b,g,P,v,S,w,G,D;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,a=t.initializerDefineProperty,r=t.assertThisInitialized,n=t.classPrivateFieldLooseBase,l=t.classPrivateFieldLooseKey},function(t){s=t.cclegacy,o=t._decorator,u=t.PhysicsSystem2D,c=t.Vec2,d=t.Component},function(t){h=t.CollisionCtrl},function(t){p=t.GameFsm,f=t.GameStates},null,function(t){m=t.BirdCtrl},function(t){y=t.PlayerCtrl},function(t){C=t.HUDCtrl},function(t){b=t.DataCtrl},function(t){g=t.eventBus,P=t.GameEvents},function(t){v=t.CameraCtrl},function(t){S=t.MainMenuState},function(t){w=t.GamePlayState},function(t){G=t.GameOverState},function(t){D=t.PreloadState}],execute:function(){var M,A,B,z,E,_,L,F,H,O,R,U,I,N,j,x;s._RF.push({},"a5a637I6oJDfposH/K6aiPa","Game.ctrl",void 0);var K=o.ccclass,V=o.property;t("GameCtrl",(M=K("GameCtrl"),A=V({type:h}),B=V({type:m}),z=V({type:y}),E=V({type:v}),_=V({type:C}),L=V({type:b}),M((x=l("gameFsm"),O=e((H=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),l=0;l<i;l++)n[l]=arguments[l];return e=t.call.apply(t,[this].concat(n))||this,a(e,"collisionCtrl",O,r(e)),a(e,"birdCtrl",R,r(e)),a(e,"playerCtrl",U,r(e)),a(e,"cameraCtrl",I,r(e)),a(e,"hud",N,r(e)),a(e,"dataCtrl",j,r(e)),Object.defineProperty(r(e),x,{writable:!0,value:void 0}),e.isPaused=!1,e}i(e,t);var l=e.prototype;return l.onLoad=function(){u.instance.gravity=new c(0,-1700),n(this,x)[x]=new p(this),n(this,x)[x].addState(new S),n(this,x)[x].addState(new w),n(this,x)[x].addState(new G),n(this,x)[x].addState(new D)},l.start=function(){n(this,x)[x].changeState(f.PRELOAD)},l.update=function(t){this.isPaused||n(this,x)[x].update(t)},l.onDestroy=function(){n(this,x)[x].destroy()},l.startGame=function(){this.dataCtrl.resetScore(),this.hud.showGameHud(),this.playerCtrl.startPlayer(),this.birdCtrl.setBirdsCount(this.birdCtrl.startCount),n(this,x)[x].changeState(f.GAME_PLAY)},l.gameOver=function(){n(this,x)[x].changeState(f.GAME_OVER)},l.showMainMenu=function(){n(this,x)[x].changeState(f.MAIN_MENU)},l.increaseDifficulty=function(t){t%10!=0||this.birdCtrl.getActiveBirdsCount()<=this.birdCtrl.minBirdsCount||this.birdCtrl.setRemoveCount(1)},l.changePause=function(t){this.isPaused=t,u.instance.enable=!t,g.emit(P.CHANGE_PAUSE,t)},l.togglePause=function(){this.changePause(!this.isPaused)},e}(d)).prototype,"collisionCtrl",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(H.prototype,"birdCtrl",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(H.prototype,"playerCtrl",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(H.prototype,"cameraCtrl",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(H.prototype,"hud",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(H.prototype,"dataCtrl",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=H))||F));s._RF.pop()}}}));

System.register("chunks:///_virtual/game.model.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fms.ts"],(function(e){var t,n,s;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){s=e.FSM}],execute:function(){n._RF.push({},"a6bb1atpqpKvb1lgCsVehdo","game.model",void 0);e("GameStates",Object.freeze({MAIN_MENU:"MAIN_MENU",GAME_OVER:"GAME_OVER",GAME_PLAY:"GAME_PLAY",PRELOAD:"PRELOAD"})),e("DataEvent",Object.freeze({CHANGE_SCORE:"CHANGE_SCORE"})),e("GameFsm",function(e){function n(t){return e.call(this,t)||this}return t(n,e),n}(s));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameOver.script.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Data.ctrl.ts"],(function(t){var e,r,a,i,l,o,n,c,s,p,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized,l=t.classPrivateFieldLooseBase,o=t.classPrivateFieldLooseKey},function(t){n=t.cclegacy,c=t._decorator,s=t.Label,p=t.Component},function(t){u=t.DataCtrl}],execute:function(){var h,b,f,y,d,g,v,S,L,m,C;n._RF.push({},"2fde2XpG79A769I2DYUElar","GameOver.script",void 0);var w=c.ccclass,D=c.property;t("GameOverScript",(h=w("GameOverScript"),b=D({type:s}),f=D({type:u}),y=D({type:s}),h((m=o("score"),C=o("total"),v=e((g=function(t){function e(){for(var e,r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return e=t.call.apply(t,[this].concat(l))||this,a(e,"scoreLabel",v,i(e)),a(e,"dataCtrl",S,i(e)),a(e,"totalScore",L,i(e)),Object.defineProperty(i(e),m,{writable:!0,value:0}),Object.defineProperty(i(e),C,{writable:!0,value:0}),e}r(e,t);var o=e.prototype;return o.startCalcScore=function(){l(this,m)[m]=this.dataCtrl.getScore(),l(this,C)[C]=this.dataCtrl.getTotalScore(),this.schedule(this.changeLabel,.025,l(this,m)[m],1)},o.changeLabel=function(){this.scoreLabel.string=l(this,m)[m].toString().padStart(4,"0"),this.totalScore.string=l(this,C)[C].toString(),l(this,m)[m]-=1,l(this,C)[C]+=1},e}(p)).prototype,"scoreLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=e(g.prototype,"dataCtrl",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(g.prototype,"totalScore",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=g))||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/gameOver.state.ts",["./rollupPluginModLoBabelHelpers.js","cc","./state.ts","./game.model.ts"],(function(t){var e,r,i,s;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy},function(t){i=t.State},function(t){s=t.GameStates}],execute:function(){r._RF.push({},"ecc8czHD7VC76wQDTd2nh/C","gameOver.state",void 0);t("GameOverState",function(t){function r(){return t.call(this,s.GAME_OVER)||this}e(r,t);var i=r.prototype;return i.enter=function(t){this.ctrl.hud.hideGameHud(),this.ctrl.hud.showGameOver(),this.ctrl.changePause(!0)},i.update=function(t,e){},i.exit=function(t){this.ctrl.playerCtrl.initPlayer(),this.ctrl.cameraCtrl.resetCamera(),this.ctrl.birdCtrl.resetPool(),this.ctrl.birdCtrl.setBirdsCount(this.ctrl.birdCtrl.idleCount),this.ctrl.hud.hideGameOver(),this.ctrl.changePause(!1)},r}(i));r._RF.pop()}}}));

System.register("chunks:///_virtual/gamePlay.state.ts",["./rollupPluginModLoBabelHelpers.js","cc","./state.ts","./player.model.ts","./game.model.ts"],(function(t){var e,r,i,l,c,n;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy},function(t){i=t.State},function(t){l=t.PlayerEvents},function(t){c=t.DataEvent,n=t.GameStates}],execute:function(){r._RF.push({},"c711bR8wR9MZr3XdIWh2bM0","gamePlay.state",void 0);t("GamePlayState",function(t){function r(){return t.call(this,n.GAME_PLAY)||this}e(r,t);var i=r.prototype;return i.enter=function(t,e){this.ctrl.collisionCtrl.startCheck(),this.ctrl.playerCtrl.node.on(l.ON_DEAD,this.ctrl.gameOver,this.ctrl),this.ctrl.dataCtrl.node.on(c.CHANGE_SCORE,this.ctrl.increaseDifficulty,this.ctrl)},i.update=function(t,e){},i.exit=function(t){this.ctrl.collisionCtrl.stopCheck(),this.ctrl.playerCtrl.node.off(l.ON_DEAD,this.ctrl.gameOver,this.ctrl),this.ctrl.dataCtrl.node.off(c.CHANGE_SCORE,this.ctrl.increaseDifficulty,this.ctrl)},r}(i));r._RF.pop()}}}));

System.register("chunks:///_virtual/HUD.ctrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./game.model.ts","./twa.ts"],(function(e){var t,i,a,r,n,o,c,s,l,u,h,p,f,v,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized,n=e.classPrivateFieldLooseBase,o=e.classPrivateFieldLooseKey},function(e){c=e.cclegacy,s=e._decorator,l=e.Node,u=e.Label,h=e.UIOpacity,p=e.tween,f=e.Component},function(e){v=e.DataEvent},function(e){m=e.twa}],execute:function(){var y,b,d,g,O,M,N,E,G,S,w,D,U,_,C,P,B;c._RF.push({},"8a2a3VP9n1MF5oZOfpuB92M","HUD.ctrl",void 0);var H=s.ccclass,z=s.property,A=e("HUDScreen",Object.freeze({MAIN_MENU:"MAIN_MENU",GAME_OVER:"GAME_OVER"}));e("HUDCtrl",(y=H("HUDCtrl"),b=z({type:l}),d=z({type:l}),g=z({type:l}),O=z({type:l}),M=z({type:u}),N=z({type:l}),y((P=o("screens"),B=o("scoreLabel"),S=t((G=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,a(t,"MainMenu",S,r(t)),a(t,"GameOver",w,r(t)),a(t,"Score",D,r(t)),a(t,"PauseBtn",U,r(t)),a(t,"UserName",_,r(t)),a(t,"DataNode",C,r(t)),Object.defineProperty(r(t),P,{writable:!0,value:void 0}),Object.defineProperty(r(t),B,{writable:!0,value:void 0}),t}i(t,e);var o=t.prototype;return o.onLoad=function(){var e;n(this,P)[P]=((e={})[A.MAIN_MENU]=this.MainMenu,e[A.GAME_OVER]=this.GameOver,e),n(this,B)[B]=this.Score.getComponent(u),this.DataNode.on(v.CHANGE_SCORE,this.changeScore,this)},o.onDestroy=function(){this.DataNode.off(v.CHANGE_SCORE,this.changeScore,this)},o.start=function(){var e=m.getUser();this.UserName.string=e.username||e.first_name||"Player"},o.changeScore=function(e){n(this,B)[B].string=e.toString().padStart(4,"0")},o.showGameHud=function(){this.Score.active=!0,this.PauseBtn.active=!0},o.hideGameHud=function(){this.Score.active=!1,this.PauseBtn.active=!1},o.showScreen=function(e){Object.values(n(this,P)[P]).forEach((function(e){return e.active=!1})),n(this,P)[P][e].active=!0},o.hideScreen=function(){Object.values(n(this,P)[P]).forEach((function(e){return e.active=!1}))},o.showGameOver=function(){this.GameOver.active=!0;var e=this.GameOver.getChildByName("Bg").getComponent(h);p(e).to(1,{opacity:255}).start()},o.hideGameOver=function(){this.GameOver.active=!1,this.GameOver.getChildByName("Bg").getComponent(h).opacity=0},t}(f)).prototype,"MainMenu",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(G.prototype,"GameOver",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(G.prototype,"Score",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(G.prototype,"PauseBtn",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(G.prototype,"UserName",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(G.prototype,"DataNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=G))||E));c._RF.pop()}}}));

System.register("chunks:///_virtual/idle.state.ts",["./rollupPluginModLoBabelHelpers.js","cc","./state.ts","./inputCtrl.ts","./player.model.ts"],(function(t){var e,n,i,s,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.State},function(t){s=t.Key},function(t){c=t.PlayerStates}],execute:function(){n._RF.push({},"a459dOUuaVCRq7dGcPkcPml","idle.state",void 0);t("IdleState",function(t){function n(){return t.call(this,c.IDLE)||this}e(n,t);var i=n.prototype;return i.enter=function(t){this.ctrl.setCanMove(!0),this.ctrl.setSpeedMod(1)},i.update=function(t,e){t.input.cursors.has(s.UP)&&(this.ctrl.jump(),t.changeState(c.JUMPING))},i.exit=function(t){},n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/index.ts",["cc","./gamePlay.state.ts","./mainMenu.state.ts","./gameOver.state.ts","./preload.state.ts"],(function(t){var e;return{setters:[function(t){e=t.cclegacy},function(e){t("GamePlayState",e.GamePlayState)},function(e){t("MainMenuState",e.MainMenuState)},function(e){t("GameOverState",e.GameOverState)},function(e){t("PreloadState",e.PreloadState)}],execute:function(){e._RF.push({},"075a8palptKV7o6uMmXx0O3","index",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/index2.ts",["cc","./falling.state.ts","./jumping.state.ts","./idle.state.ts","./captured.state.ts"],(function(t){var e;return{setters:[function(t){e=t.cclegacy},function(e){t("FallingState",e.FallingState)},function(e){t("JumpingState",e.JumpingState)},function(e){t("IdleState",e.IdleState)},function(e){t("CapturedState",e.CapturedState)}],execute:function(){e._RF.push({},"d87f3/WD8dPaLfCxE3IeuuE","index",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/inputCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,s,i,o,r,n;return{setters:[function(e){t=e.classPrivateFieldLooseBase,s=e.classPrivateFieldLooseKey},function(e){i=e.cclegacy,o=e.input,r=e.Input,n=e.KeyCode}],execute:function(){i._RF.push({},"aa671IMXvBNEb/O4EEnZjiR","inputCtrl",void 0);var c=e("Key",Object.freeze({LEFT:"left",RIGHT:"right",UP:"up",DOWN:"down"})),a=s("startPos"),h=s("deadZoneX"),u=s("deadZoneY");e("InputCtrl",function(){function e(e){this.inputMethod=void 0,this.cursors=new Set,Object.defineProperty(this,a,{writable:!0,value:void 0}),Object.defineProperty(this,h,{writable:!0,value:15}),Object.defineProperty(this,u,{writable:!0,value:100}),this.initKeyboard(),this.initTouch()}var s=e.prototype;return s.initKeyboard=function(){o.on(r.EventType.KEY_DOWN,this.onKeyDown,this),o.on(r.EventType.KEY_UP,this.onKeyUp,this)},s.initTouch=function(){o.on(r.EventType.TOUCH_MOVE,this.onSwipeMove,this),o.on(r.EventType.TOUCH_MOVE,this.onSwipeMove,this),o.on(r.EventType.TOUCH_END,this.onTouchEnd,this),o.on(r.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},s.onTouchEnd=function(e){t(this,a)[a]=null,this.cursors.clear()},s.onSwipeMove=function(e){var s=e.touch.getLocationX(),i=e.touch.getLocationY();t(this,a)[a]||(t(this,a)[a]=e.touch.getStartLocation());var o=t(this,a)[a].x-s,r=t(this,a)[a].y-i;o>t(this,h)[h]?this.cursors.add(c.LEFT):o<-t(this,h)[h]?this.cursors.add(c.RIGHT):(this.cursors.delete(c.LEFT),this.cursors.delete(c.RIGHT)),r>t(this,u)[u]?this.cursors.add(c.DOWN):r<-t(this,u)[u]?this.cursors.add(c.UP):(this.cursors.delete(c.UP),this.cursors.delete(c.DOWN))},s.onKeyDown=function(e){switch(e.keyCode){case n.ARROW_LEFT:case n.KEY_A:this.cursors.add(c.LEFT);break;case n.ARROW_RIGHT:case n.KEY_D:this.cursors.add(c.RIGHT);break;case n.ARROW_UP:case n.KEY_W:case n.SPACE:this.cursors.add(c.UP);break;case n.ARROW_DOWN:case n.KEY_S:this.cursors.add(c.DOWN)}},s.onKeyUp=function(e){switch(e.keyCode){case n.ARROW_LEFT:case n.KEY_A:this.cursors.delete(c.LEFT);break;case n.ARROW_RIGHT:case n.KEY_D:this.cursors.delete(c.RIGHT);break;case n.ARROW_UP:case n.KEY_W:case n.SPACE:this.cursors.delete(c.UP);break;case n.ARROW_DOWN:case n.KEY_S:this.cursors.delete(c.DOWN)}},e}());i._RF.pop()}}}));

System.register("chunks:///_virtual/jumping.state.ts",["./rollupPluginModLoBabelHelpers.js","cc","./state.ts","./player.model.ts"],(function(t){var e,i,n,s,r,a,o;return{setters:[function(t){e=t.inheritsLoose,i=t.classPrivateFieldLooseBase,n=t.classPrivateFieldLooseKey,s=t.assertThisInitialized},function(t){r=t.cclegacy},function(t){a=t.State},function(t){o=t.PlayerStates}],execute:function(){r._RF.push({},"c18c5FkHi5OirmZJImzhi5G","jumping.state",void 0);var c=n("rb");t("JumpingState",function(t){function n(){var e;return e=t.call(this,o.JUMPING)||this,Object.defineProperty(s(e),c,{writable:!0,value:void 0}),e}e(n,t);var r=n.prototype;return r.enter=function(t){i(this,c)[c]=this.ctrl.getRb(),this.ctrl.setCanMove(!0),this.ctrl.setSpeedMod(.5)},r.update=function(t,e){i(this,c)[c].linearVelocity.y<0&&t.changeState(o.FALLING)},r.exit=function(t){},n}(a));r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Bird.ctrl.ts","./bird.model.ts","./bird.ts","./adaptiveView.ts","./eventBus.ts","./fms.ts","./state.ts","./twa.ts","./Camera.ctrl.ts","./Collision.ctrl.ts","./Data.ctrl.ts","./Game.ctrl.ts","./HUD.ctrl.ts","./WorldBounds.ts","./game.model.ts","./inputCtrl.ts","./gameOver.state.ts","./gamePlay.state.ts","./index.ts","./mainMenu.state.ts","./preload.state.ts","./GameOver.script.ts","./Player.ctrl.ts","./player.model.ts","./captured.state.ts","./falling.state.ts","./idle.state.ts","./index2.ts","./jumping.state.ts","./mockTg.ts","./utils.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/mainMenu.state.ts",["./rollupPluginModLoBabelHelpers.js","cc","./state.ts","./game.model.ts","./HUD.ctrl.ts"],(function(t){var e,n,u,c,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){u=t.State},function(t){c=t.GameStates},function(t){i=t.HUDScreen}],execute:function(){n._RF.push({},"7ebc6urBOlGxrtYTu8D72Ke","mainMenu.state",void 0);t("MainMenuState",function(t){function n(){return t.call(this,c.MAIN_MENU)||this}e(n,t);var u=n.prototype;return u.enter=function(t){this.ctrl.hud.showScreen(i.MAIN_MENU)},u.update=function(t,e){},u.exit=function(t){this.ctrl.hud.hideScreen()},n}(u));n._RF.pop()}}}));

System.register("chunks:///_virtual/mockTg.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"9e3e318QppFwr0TCb1GS5BL","mockTg",void 0);var a=globalThis.TmaSdk,r={left:0,top:0,bottom:0,right:0},o={accent_text_color:"#6ab2f2",bg_color:"#17212b",button_color:"#5288c1",button_text_color:"#ffffff",destructive_text_color:"#ec3942",header_bg_color:"#17212b",hint_color:"#708499",link_color:"#6ab3f3",secondary_bg_color:"#232e3c",section_bg_color:"#17212b",section_header_text_color:"#6ab3f3",subtitle_text_color:"#708499",text_color:"#f5f5f5"},n=e("launchParams",{tgWebAppThemeParams:o,tgWebAppData:new URLSearchParams([["user",JSON.stringify({id:146942042,first_name:"Alexander",last_name:"Aleksei",username:"test user",language_code:"en",photo_url:"https://t.me/i/userpic/320/zRa3Rqg0QxgRxAHCtrRSdieAx0YwzMv6lrT_p7oXUiM.svg",signature:146942042})],["hash","test_hash"],["signature","test_signature"],["auth_date",Date.now().toString()]]),tgWebAppStartParam:"debug",tgWebAppVersion:"8",tgWebAppPlatform:"tdesktop"}),_=function(e){return"web_app_request_theme"===e[0]?a.emitEvent("theme_changed",{theme_params:o}):"web_app_request_viewport"===e[0]?a.emitEvent("viewport_changed",{height:window.innerHeight,width:window.innerWidth,is_expanded:!0,is_state_stable:!0}):"web_app_request_content_safe_area"===e[0]?a.emitEvent("content_safe_area_changed",r):"web_app_request_safe_area"===e[0]?a.emitEvent("safe_area_changed",r):void 0};e("mockTgData",(function(){return a.mockTelegramEnv({launchParams:n,onEvent:_})}));t._RF.pop()}}}));

System.register("chunks:///_virtual/Player.ctrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./inputCtrl.ts","./player.model.ts","./index2.ts","./eventBus.ts","./idle.state.ts","./jumping.state.ts","./falling.state.ts","./captured.state.ts"],(function(t){var e,i,s,n,o,a,r,l,c,h,u,d,p,y,f,v,P,b,g,m,w,C,N,S,I,A,D,O,_,E,j;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,s=t.initializerDefineProperty,n=t.assertThisInitialized,o=t.classPrivateFieldLooseBase,a=t.classPrivateFieldLooseKey},function(t){r=t.cclegacy,l=t._decorator,c=t.Node,h=t.CCFloat,u=t.CCInteger,d=t.Vec2,p=t.RigidBody2D,y=t.BoxCollider2D,f=t.Contact2DType,v=t.view,P=t.Vec3,b=t.math,g=t.tween,m=t.Component},function(t){w=t.InputCtrl,C=t.Key},function(t){N=t.PlayerFsm,S=t.PlayerEvents,I=t.PlayerStates},null,function(t){A=t.eventBus,D=t.GameEvents},function(t){O=t.IdleState},function(t){_=t.JumpingState},function(t){E=t.FallingState},function(t){j=t.CapturedState}],execute:function(){var B,F,R,T,L,Y,z,V,x,G,M,H,U,k,K,W,q,J,Q,X;r._RF.push({},"47ce6YrEYRBzpLHqo+63Wm5","Player.ctrl",void 0);var Z=l.ccclass,$=l.property;t("PlayerCtrl",(B=Z("PlayerCtrl"),F=$({type:c}),R=$({type:h}),T=$({type:h}),L=$({type:u}),B((H=a("rb"),U=a("playerFsm"),k=a("collider"),K=a("speedMod"),W=a("canMove"),q=a("input"),J=a("_catchTween"),Q=a("posY"),X=a("_vec2"),V=e((z=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,s(e,"playerNode",V,n(e)),s(e,"jumpForce",x,n(e)),s(e,"speed",G,n(e)),s(e,"deadDistance",M,n(e)),Object.defineProperty(n(e),H,{writable:!0,value:void 0}),Object.defineProperty(n(e),U,{writable:!0,value:void 0}),Object.defineProperty(n(e),k,{writable:!0,value:void 0}),Object.defineProperty(n(e),K,{writable:!0,value:1}),Object.defineProperty(n(e),W,{writable:!0,value:!0}),Object.defineProperty(n(e),q,{writable:!0,value:void 0}),Object.defineProperty(n(e),J,{writable:!0,value:void 0}),Object.defineProperty(n(e),Q,{writable:!0,value:0}),Object.defineProperty(n(e),X,{writable:!0,value:new d}),e.isPaused=!1,e.playerIsReady=!1,e}i(e,t);var a=e.prototype;return a.onLoad=function(){o(this,q)[q]=new w("auto"),o(this,U)[U]=new N(this,o(this,q)[q]),o(this,U)[U].addState(new O),o(this,U)[U].addState(new _),o(this,U)[U].addState(new E),o(this,U)[U].addState(new j),o(this,H)[H]=this.playerNode.getComponent(p),o(this,k)[k]=this.playerNode.getComponent(y)},a.start=function(){A.on(D.CHANGE_PAUSE,this.changePause,this),this.schedule(this.changePositionY,.1),o(this,k)[k].on(f.BEGIN_CONTACT,this.onContact,this),this.initPlayer()},a.onDestroy=function(){A.off(D.CHANGE_PAUSE,this.changePause,this),o(this,k)[k].off(f.BEGIN_CONTACT,this.onContact,this),this.unschedule(this.changePositionY),o(this,J)[J]&&(o(this,J)[J].stop(),o(this,J)[J]=null),o(this,U)[U]&&o(this,U)[U].destroy()},a.update=function(t){this.isPaused||(o(this,q)[q].cursors.has(C.LEFT)?this.move(-1):o(this,q)[q].cursors.has(C.RIGHT)?this.move(1):this.move(0),o(this,U)[U].update(t))},a.changePause=function(t){t?(this.isPaused=!0,this.unschedule(this.changePositionY)):(this.isPaused=!1,this.schedule(this.changePositionY,.1))},a.faceDirection=function(t){if(0!==t){var e=this.playerNode.scale,i=Math.abs(e.x),s=t<0?-i:i;e.x!==s&&this.playerNode.setScale(s,e.y,e.z)}},a.onContact=function(t,e){switch(e.node.name){case"left":case"right":this.node.emit(S.TOUCH_BOUNDS);break;case"Island":this.playerIsReady||(this.playerIsReady=!0,A.emit(S.IS_READY,!0)),o(this,U)[U].changeState(I.IDLE);break;case"bottom":this.deadPlayer()}},a.startPlayer=function(){this.setActive(!0),o(this,U)[U].changeState(I.FALLING)},a.initPlayer=function(){var t=v.getVisibleSize(),e=t.width/2,i=t.height/2;this.playerNode.setPosition(e,i,1),o(this,K)[K]=1,o(this,W)[W]=!0,o(this,Q)[Q]=i,o(this,X)[X].set(0,0),o(this,H)[H].linearVelocity=o(this,X)[X],this.playerIsReady=!1,this.setActive(!1),A.emit(S.IS_READY,!1),A.emit(S.CHANGE_POSITION_Y,i)},a.onBirdCollision=function(t){o(this,U)[U].changeState(I.CAPTURED,t.bird)},a.move=function(t){this.faceDirection(t);var e=o(this,H)[H].linearVelocity;o(this,W)[W]&&0!==t?(o(this,X)[X].set(this.speed*o(this,K)[K]*t,e.y),o(this,H)[H].linearVelocity=o(this,X)[X]):0!==e.x&&(o(this,X)[X].set(0,e.y),o(this,H)[H].linearVelocity=o(this,X)[X])},a.moveWithBird=function(t){this.playerNode.setPosition(t.node.position.x,this.playerNode.position.y,this.playerNode.position.z)},a.jump=function(){o(this,X)[X].set(o(this,H)[H].linearVelocity.x,this.jumpForce),o(this,H)[H].linearVelocity=o(this,X)[X]},a.startCaptureBird=function(t,e){var i,s=this;this.setActiveBody(!1),null==(i=o(this,J)[J])||i.stop();var n=this.playerNode.position.clone(),a={progress:0},r=new P,l=new P,c=P.distance(n,t.position),h=b.clamp(Math.abs(o(this,H)[H].linearVelocity.y),0,30),u=.15+c/3*.01;o(this,J)[J]=g(a).to(u,{progress:1},{onUpdate:function(e){var i=e.progress,o=t.getPosition(),c=.7*h*i*Math.pow(1-i,2);r.set(o.x,o.y,0),P.lerp(l,n,r,a.progress),s.playerNode.setPosition(l.x,l.y+c,l.z)}}).call((function(){o(s,H)[H].linearVelocity=new d(0,0),e()})).start()},a.changePositionY=function(){var t=Math.floor(this.playerNode.position.y);t!==o(this,Q)[Q]&&(o(this,Q)[Q]=t,A.emit(S.CHANGE_POSITION_Y,this.playerNode.position.y))},a.dropPlayer=function(){o(this,U)[U].changeState(I.FALLING)},a.deadPlayer=function(){this.node.emit(S.ON_DEAD)},a.setActiveBody=function(t){o(this,H)[H].enabled=t},a.getRb=function(){return o(this,H)[H]},a.setActive=function(t){this.playerNode.active=t},a.setCanMove=function(t){o(this,W)[W]=t},a.setSpeedMod=function(t){o(this,K)[K]=t},e}(m)).prototype,"playerNode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(z.prototype,"jumpForce",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),G=e(z.prototype,"speed",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=e(z.prototype,"deadDistance",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Y=z))||Y));r._RF.pop()}}}));

System.register("chunks:///_virtual/player.model.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fms.ts"],(function(e){var t,n,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){r=e.FSM}],execute:function(){n._RF.push({},"b426b92AtRFC6MOpBGJw3G0","player.model",void 0);e("PlayerStates",Object.freeze({IDLE:"IDLE",JUMPING:"JUMPING",FALLING:"FALLING",CAPTURED:"CAPTURED",BONUS:"BONUS"})),e("PlayerEvents",Object.freeze({ON_GROUND:"ON_GROUND",TOUCH_BOUNDS:"TOUCH_BOUNDS",ON_DEAD:"ON_DEAD",CHANGE_POSITION_Y:"CHANGE_POSITION_Y",IS_READY:"IS_READY"})),e("PlayerFsm",function(e){function n(t,n){var r;return(r=e.call(this,t)||this).input=n,r}return t(n,e),n}(r));n._RF.pop()}}}));

System.register("chunks:///_virtual/preload.state.ts",["./rollupPluginModLoBabelHelpers.js","cc","./state.ts","./game.model.ts","./twa.ts"],(function(t){var e,i,n,r,a;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.State},function(t){r=t.GameStates},function(t){a=t.twa}],execute:function(){i._RF.push({},"aa1c2lew35DqK7//jcoaxgz","preload.state",void 0);t("PreloadState",function(t){function i(){return t.call(this,r.PRELOAD)||this}e(i,t);var n=i.prototype;return n.enter=function(t){this.init(t)},n.init=function(t){a.initSDK(),this.initGame(),t.changeState(r.MAIN_MENU)},n.initGame=function(){this.ctrl.cameraCtrl.resetCamera(),this.ctrl.playerCtrl.initPlayer(),this.ctrl.birdCtrl.resetPool(),this.ctrl.birdCtrl.setBirdsCount(this.ctrl.birdCtrl.idleCount)},n.update=function(t,e){},n.exit=function(t){},i}(n));i._RF.pop()}}}));

System.register("chunks:///_virtual/state.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"7888f6GEatFtpUqiHdG7/as","state",void 0);t("State",function(){function t(t){this.name=void 0,this.ctrl=void 0,this.name=t}return t.prototype.setCtrl=function(t){this.ctrl=t},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/twa.ts",["./rollupPluginModLoBabelHelpers.js","cc","./mockTg.ts","./utils.ts"],(function(t){var i,e,r,s,n,a;return{setters:[function(t){i=t.classPrivateFieldLooseBase,e=t.classPrivateFieldLooseKey,r=t.asyncToGenerator},function(t){s=t.cclegacy},function(t){n=t.mockTgData},function(t){a=t.delay}],execute:function(){s._RF.push({},"bbeb6u+0gtOvrMIAjLBr/vq","twa",void 0);var o=e("isDebug"),c=e("tma"),u=t("Twa",function(){function t(t){this.isReady=!1,Object.defineProperty(this,o,{writable:!0,value:!1}),Object.defineProperty(this,c,{writable:!0,value:void 0}),i(this,o)[o]=t,i(this,c)[c]=globalThis.TmaSdk}var e=t.prototype;return e.initSDK=function(){var t=r((function*(){(yield i(this,c)[c].isTMA())||n();try{i(this,c)[c].init(),i(this,c)[c].miniApp.isMounted()||i(this,c)[c].miniApp.mount(),i(this,c)[c].miniApp.ready(),i(this,c)[c].viewport.isMounted()||(i(this,c)[c].viewport.mount(),yield a(100)),i(this,c)[c].viewport.isExpanded()||i(this,c)[c].viewport.expand(),i(this,c)[c].viewport.bindCssVars(),i(this,o)[o]&&console.log("Telegram SDK успешно инициализирован")}catch(t){i(this,o)[o]&&console.error("Ошибка инициализации Telegram SDK")}this.isReady=!0}));return function(){return t.apply(this,arguments)}}(),e.getUser=function(){var t=i(this,c)[c].retrieveLaunchParams().tgWebAppData;return null==t?void 0:t.user},e.triggerHaptic=function(t){void 0===t&&(t="light"),i(this,c)[c].hapticFeedback.impactOccurred(t)},e.getInitData=function(){if(this.isReady)return i(this,c)[c].retrieveRawInitData()},t}());t("twa",new u(!0));s._RF.pop()}}}));

System.register("chunks:///_virtual/utils.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,e;return{setters:[function(n){t=n.asyncToGenerator},function(n){e=n.cclegacy}],execute:function(){e._RF.push({},"82fb96QJiNNPYf6U6XlO5Pq","utils",void 0);n("delay",function(){var n=t((function*(n){return new Promise((function(t,e){return setTimeout(t,n)}))}));return function(t){return n.apply(this,arguments)}}());e._RF.pop()}}}));

System.register("chunks:///_virtual/WorldBounds.ts",["./rollupPluginModLoBabelHelpers.js","cc","./eventBus.ts","./player.model.ts"],(function(e){var t,i,o,s,n,r,l,a,u,c;return{setters:[function(e){t=e.inheritsLoose,i=e.classPrivateFieldLooseBase,o=e.classPrivateFieldLooseKey,s=e.assertThisInitialized},function(e){n=e.cclegacy,r=e._decorator,l=e.view,a=e.Component},function(e){u=e.eventBus},function(e){c=e.PlayerEvents}],execute:function(){var h,d,v,f;n._RF.push({},"b3a55/zlj9K7L88fuM0W7Ea","WorldBounds",void 0);var y=r.ccclass;e("WorldBounds",y("WorldBounds")((d=o("leftBound"),v=o("rightBound"),f=o("size"),h=function(e){function o(){for(var t,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return t=e.call.apply(e,[this].concat(o))||this,Object.defineProperty(s(t),d,{writable:!0,value:void 0}),Object.defineProperty(s(t),v,{writable:!0,value:void 0}),Object.defineProperty(s(t),f,{writable:!0,value:void 0}),t}t(o,e);var n=o.prototype;return n.onLoad=function(){i(this,f)[f]=l.getVisibleSize(),i(this,d)[d]=this.node.getChildByName("left"),i(this,v)[v]=this.node.getChildByName("right"),u.on(c.CHANGE_POSITION_Y,this.moveWithPlayer,this)},n.onDestroy=function(){u.off(c.CHANGE_POSITION_Y,this.moveWithPlayer,this)},n.moveWithPlayer=function(e){var t=e-i(this,f)[f].height/2;i(this,d)[d].setPosition(i(this,d)[d].position.x,t,0),i(this,v)[v].setPosition(i(this,v)[v].position.x,t,0)},o}(a)))||h);n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});