System.register("chunks:///_virtual/adaptiveView.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,t,n,s,o,a,h;return{setters:[function(e){i=e.inheritsLoose},function(e){t=e.cclegacy,n=e._decorator,s=e.view,o=e.screen,a=e.ResolutionPolicy,h=e.Component}],execute:function(){var r;t._RF.push({},"6c60dwRtv1LOaYg6ypxsakg","adaptiveView",void 0);var c=n.ccclass;e("adaptiveView",c("adaptiveView")(r=function(e){function t(){for(var i,t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return(i=e.call.apply(e,[this].concat(n))||this).designWidth=0,i.designHeight=0,i}i(t,e);var n=t.prototype;return n.start=function(){var e=s.getDesignResolutionSize();this.designWidth=e.width,this.designHeight=e.height,this.onResize(),s.on("canvas-resize",this.onResize,this)},n.onDestroy=function(){s.off("canvas-resize",this.onResize,this)},n.onResize=function(){var e=o.windowSize,i=Math.max(this.designWidth/e.width,this.designHeight/e.height),t=e.width*i,n=e.height*i;s.setDesignResolutionSize(t,n,a.SHOW_ALL),console.log("onResize")},t}(h))||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/bird.model.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"56525hYM+5PpJ2L7GQrmvop","bird.model",void 0);e("birdEvents",Object.freeze({DROP_PLAYER:"DROP_PLAYER"}));t._RF.pop()}}}));

System.register("chunks:///_virtual/bird.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,s,o,r,c,a,u;return{setters:[function(t){e=t.inheritsLoose,i=t.classPrivateFieldLooseBase,n=t.classPrivateFieldLooseKey,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,c=t.UITransform,a=t.Vec3,u=t.Component}],execute:function(){var h,d,l;o._RF.push({},"85dcc5Gf/5HbbN/ynKEYnhi","bird",void 0);var p=r.ccclass;t("Bird",p("Bird")((d=n("speed"),l=n("_vec3"),h=function(t){function n(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n))||this,Object.defineProperty(s(e),d,{writable:!0,value:0}),Object.defineProperty(s(e),l,{writable:!0,value:new a}),e.scale=0,e.direction=0,e.size=0,e.canCapture=!0,e.captured=!1,e}e(n,t);var o=n.prototype;return o.start=function(){this.size=this.node.getComponent(c).width},o.getSize=function(){return this.node.getComponent(c).width},o.move=function(t){this.node.getPosition(i(this,l)[l]),i(this,l)[l].x+=i(this,d)[d]*this.direction*t,this.node.setPosition(i(this,l)[l])},o.respawn=function(t,e,n,s){this.scale=e,this.direction=n,i(this,d)[d]=s,this.canCapture=!0,this.node.setPosition(t),this.node.setScale(e*(-1*n),e,1)},o.setSpeed=function(t){i(this,d)[d]=t},o.setDirection=function(t){this.direction=t},o.setScale=function(t){this.scale=t},o.setCanCapture=function(t){this.canCapture=t},o.tick=function(t){this.move(t)},n}(u)))||h);o._RF.pop()}}}));

System.register("chunks:///_virtual/birdCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./bird.ts","./utils.ts","./bird.model.ts","./eventBus.ts"],(function(e){var t,i,n,r,a,o,s,l,u,c,p,h,d,f,b,g,y,m,w,v,C,z,S,P,R;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.classPrivateFieldLooseBase,o=e.createForOfIteratorHelperLoose,s=e.classPrivateFieldLooseKey,l=e.asyncToGenerator},function(e){u=e.cclegacy,c=e._decorator,p=e.Prefab,h=e.Node,d=e.CCInteger,f=e.CCFloat,b=e.NodePool,g=e.Vec3,y=e.view,m=e.instantiate,w=e.math,v=e.Component},function(e){C=e.Bird},function(e){z=e.delay},function(e){S=e.birdEvents},function(e){P=e.eventBus,R=e.GameEvents}],execute:function(){var B,O,x,D,_,j,L,E,F,W,k,I,A,H,M,T,V,G,N,q,K,Y,J,Q,U,X,Z,$,ee,te,ie,ne,re;u._RF.push({},"1592aPTz6hH1bAROSq6odtd","birdCtrl",void 0);var ae=c.ccclass,oe=c.property;e("birdCtrl",(B=ae("birdCtrl"),O=oe({type:p}),x=oe({type:h}),D=oe({type:h}),_=oe({type:d}),j=oe({type:d}),L=oe({type:f}),E=oe({type:f}),F=oe({type:d}),W=oe({type:d}),k=oe({type:d}),I=oe({type:d}),A=oe({type:[f]}),B(($=s("spawnRegions"),ee=s("activeBirds"),te=s("pull"),ie=s("removeCount"),ne=s("worldSize"),re=s("_vec3"),T=t((M=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"bird",T,r(t)),n(t,"player",V,r(t)),n(t,"container",G,r(t)),n(t,"minSpeed",N,r(t)),n(t,"maxSpeed",q,r(t)),n(t,"minScale",K,r(t)),n(t,"maxScale",Y,r(t)),n(t,"idleCount",J,r(t)),n(t,"startCount",Q,r(t)),n(t,"minBirdsCount",U,r(t)),n(t,"spawnDelay",X,r(t)),n(t,"spawnRegionsWeights",Z,r(t)),Object.defineProperty(r(t),$,{writable:!0,value:[]}),Object.defineProperty(r(t),ee,{writable:!0,value:new Set}),Object.defineProperty(r(t),te,{writable:!0,value:new b}),Object.defineProperty(r(t),ie,{writable:!0,value:0}),Object.defineProperty(r(t),ne,{writable:!0,value:void 0}),Object.defineProperty(r(t),re,{writable:!0,value:new g}),t}i(t,e);var s=t.prototype;return s.onLoad=function(){a(this,ne)[ne]=y.getVisibleSize(),this.initPool(this.idleCount+this.startCount)},s.update=function(e){for(var t,i=o(a(this,ee)[ee]);!(t=i()).done;){var n=t.value;n.tick(e),this.checkOutOfBounds(n)}},s.initPool=function(e){for(var t=e||this.idleCount+this.startCount,i=0;i<t;i++)a(this,te)[te].put(m(this.bird))},s.resetPool=function(){var e=this;a(this,ee)[ee].forEach((function(t){return e.removeBird(t)})),a(this,ee)[ee].clear()},s.addBirds=function(){var e=l((function*(e){for(var t=0;t<e;t++){var i=a(this,te)[te].get()||m(this.bird),n=i.getComponent(C),r=this.getSpawnParams(n.getSize());a(this,ee)[ee].add(n),this.container.addChild(i),n.respawn(r.pos,r.scale,r.direction,r.speed),P.emit(R.ADD_BIRD,n),yield z(this.spawnDelay)}}));return function(t){return e.apply(this,arguments)}}(),s.setBirdsCount=function(e){e<a(this,ee)[ee].size?a(this,ie)[ie]=a(this,ee)[ee].size-e:e>a(this,ee)[ee].size&&this.addBirds(e-a(this,ee)[ee].size)},s.setRemoveCount=function(e){a(this,ie)[ie]=e},s.removeBird=function(e){P.emit(R.REMOVE_BIRD,e),a(this,ee)[ee].delete(e),a(this,te)[te].put(e.node),a(this,ie)[ie]--},s.getSpawnParams=function(e){var t=w.random()>.5?1:-1,i=w.randomRange(this.minScale,this.maxScale),n=e*i,r=w.randomRange(this.minSpeed,this.maxSpeed),o=t>0?-n:a(this,ne)[ne].width+n,s=a(this,ne)[ne].height/2,l=this.player.position.y;a(this,$)[$][0]=[l,l+s],a(this,$)[$][1]=[l+s,l+2*s],a(this,$)[$][2]=[l+2*s,l+3*s],l>a(this,ne)[ne].height&&(a(this,$)[$][3]=[l-s,l]),this.spawnRegionsWeights.length=a(this,$)[$].length;for(var u=this.spawnRegionsWeights.reduce((function(e,t){return e+t}),0),c=w.randomRange(0,u),p=0,h=0;h<a(this,$)[$].length;h++){if(c<this.spawnRegionsWeights[h]){p=h;break}c-=this.spawnRegionsWeights[h]}var d=a(this,$)[$][p],f=Math.max(w.randomRange(d[0],d[1]),.3*a(this,ne)[ne].height);return a(this,re)[re].set(o,f,1),{pos:a(this,re)[re],scale:i,direction:t,speed:r}},s.checkOutOfBounds=function(e){e.node.getPosition(a(this,re)[re]);var t=e.getSize()*e.scale;if((e.direction>0&&a(this,re)[re].x>a(this,ne)[ne].width-t/2||e.direction<0&&a(this,re)[re].x<t/2)&&(e.setCanCapture(!1),e.node.emit(S.DROP_PLAYER)),e.direction>0&&a(this,re)[re].x>a(this,ne)[ne].width+t||e.direction<0&&a(this,re)[re].x<-t)if(a(this,ie)[ie]>0&&a(this,ee)[ee].size>0)this.removeBird(e);else{var i=this.getSpawnParams(e.getSize());e.respawn(i.pos,i.scale,i.direction,i.speed)}},t}(v)).prototype,"bird",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(M.prototype,"player",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(M.prototype,"container",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(M.prototype,"minSpeed",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),q=t(M.prototype,"maxSpeed",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),K=t(M.prototype,"minScale",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Y=t(M.prototype,"maxScale",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),J=t(M.prototype,"idleCount",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Q=t(M.prototype,"startCount",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),U=t(M.prototype,"minBirdsCount",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),X=t(M.prototype,"spawnDelay",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Z=t(M.prototype,"spawnRegionsWeights",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=M))||H));u._RF.pop()}}}));

System.register("chunks:///_virtual/cameraCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,i,a,o,l,n,s,c,u,p,b,h,f,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.classPrivateFieldLooseBase,l=e.classPrivateFieldLooseKey},function(e){n=e.cclegacy,s=e._decorator,c=e.Node,u=e.CCFloat,p=e.CCBoolean,b=e.Vec3,h=e.view,f=e.math,y=e.Component}],execute:function(){var d,g,m,w,v,z,P,Y,C,k,_,B,X,j,F,L,x,M,O,V,D,W,A,K,R;n._RF.push({},"5603b3r6QlP+KkgbZqAJ9LG","cameraCtrl",void 0);var S=s.ccclass,q=s.property;e("cameraCtrl",(d=S("cameraCtrl"),g=q({type:c}),m=q({type:c}),w=q({type:c}),v=q({type:u}),z=q({type:p}),P=q({type:p}),Y=q({type:u}),C=q({type:u}),k=q({type:p}),d((W=l("_offsetY"),A=l("_size"),K=l("_targetVec3"),R=l("_cameraVec3"),X=t((B=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,i(t,"target",X,a(t)),i(t,"camera",j,a(t)),i(t,"world",F,a(t)),i(t,"offsetY",L,a(t)),i(t,"lockX",x,a(t)),i(t,"lockY",M,a(t)),i(t,"lerpX",O,a(t)),i(t,"lerpY",V,a(t)),i(t,"useBounds",D,a(t)),Object.defineProperty(a(t),W,{writable:!0,value:0}),Object.defineProperty(a(t),A,{writable:!0,value:void 0}),Object.defineProperty(a(t),K,{writable:!0,value:new b}),Object.defineProperty(a(t),R,{writable:!0,value:new b}),t}r(t,e);var l=t.prototype;return l.start=function(){o(this,A)[A]=h.getVisibleSize(),o(this,W)[W]=o(this,A)[A].height*this.offsetY},l.lateUpdate=function(){if(this.target&&this.camera){this.target.getWorldPosition(o(this,K)[K]),this.camera.getWorldPosition(o(this,R)[R]);var e=this.lockX?o(this,R)[R].x:f.lerp(o(this,R)[R].x,o(this,K)[K].x,this.lerpX),t=this.lockY?o(this,R)[R].y:f.lerp(o(this,R)[R].y,o(this,K)[K].y+o(this,W)[W],this.lerpY),r=this.useBounds?f.clamp(Math.round(e),0,o(this,A)[A].width):Math.round(e),i=Math.round(t);this.camera.setWorldPosition(r,i,o(this,R)[R].z)}},t}(y)).prototype,"target",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(B.prototype,"camera",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(B.prototype,"world",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(B.prototype,"offsetY",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=t(B.prototype,"lockX",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),M=t(B.prototype,"lockY",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),O=t(B.prototype,"lerpX",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),V=t(B.prototype,"lerpY",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),D=t(B.prototype,"useBounds",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_=B))||_));n._RF.pop()}}}));

System.register("chunks:///_virtual/capturedState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./bird.model.ts","./state.ts","./inputCtrl.ts","./player.model.ts"],(function(e){var t,r,i,a,n,o,s,l,u;return{setters:[function(e){t=e.inheritsLoose,r=e.classPrivateFieldLooseBase,i=e.classPrivateFieldLooseKey,a=e.assertThisInitialized},function(e){n=e.cclegacy},function(e){o=e.birdEvents},function(e){s=e.State},function(e){l=e.Key},function(e){u=e.PlayerStates}],execute:function(){n._RF.push({},"9029fR/6chEDYtU1jdJ2lLS","capturedState",void 0);var c=i("isCompleted"),p=i("bird");e("CapturedState",function(e){function i(){var t;return t=e.call(this,u.CAPTURED)||this,Object.defineProperty(a(t),c,{writable:!0,value:!1}),Object.defineProperty(a(t),p,{writable:!0,value:void 0}),t}t(i,e);var n=i.prototype;return n.enter=function(e,t){var i=this;e.player.setCanMove(!1),e.player.setActiveBody(!1),r(this,c)[c]=!1,r(this,p)[p]=t,e.player.startCaptureBird(t.node,(function(){return r(i,c)[c]=!0})),r(this,p)[p].node.on(o.DROP_PLAYER,e.player.dropPlayer,e.player)},n.update=function(e,t){r(this,c)[c]&&(e.player.moveWithBird(r(this,p)[p]),e.input.cursors.has(l.UP)&&(e.player.jump(),e.changeState(u.JUMPING)))},n.exit=function(e){r(this,p)[p].node.off(o.DROP_PLAYER,e.player.dropPlayer,e.player),e.player.setCanMove(!0),e.player.setActiveBody(!0)},i}(s));n._RF.pop()}}}));

System.register("chunks:///_virtual/collisionCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./eventBus.ts"],(function(e){var t,i,r,o,n,a,s,l,c,h,u,p,f,d,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,n=e.classPrivateFieldLooseBase,a=e.createForOfIteratorHelperLoose,s=e.classPrivateFieldLooseKey},function(e){l=e.cclegacy,c=e._decorator,h=e.Node,u=e.CCInteger,p=e.CCFloat,f=e.Component},function(e){d=e.eventBus,y=e.GameEvents}],execute:function(){var v,C,b,g,D,m,B,I,A,R;l._RF.push({},"e91c7yOBVJEH7ar7nYKvVc/","collisionCtrl",void 0);var _=c.ccclass,k=c.property;e("collisionCtrl",(v=_("collisionCtrl"),C=k({type:h}),b=k({type:u}),g=k({type:p}),v((R=s("targets"),B=t((m=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,r(t,"player",B,o(t)),r(t,"hitArea",I,o(t)),r(t,"timeout",A,o(t)),Object.defineProperty(o(t),R,{writable:!0,value:new Set}),t}i(t,e);var s=t.prototype;return s.onLoad=function(){d.on(y.ADD_BIRD,this.addTarget,this),d.on(y.REMOVE_BIRD,this.removeTarget,this)},s.startCheck=function(){this.unschedule(this.checkCollision),this.schedule(this.checkCollision,this.timeout)},s.stopCheck=function(){this.unschedule(this.checkCollision)},s.addTarget=function(e){n(this,R)[R].add(e)},s.removeTarget=function(e){n(this,R)[R].delete(e)},s.checkCollision=function(){for(var e,t=a(n(this,R)[R]);!(e=t()).done;){var i=e.value;if(i.node.active&&i.canCapture){var r=i.node.x-this.player.x,o=i.node.y-this.player.y;if(!(Math.abs(r)>this.hitArea||Math.abs(o)>this.hitArea))if(r*r+o*o<this.hitArea*this.hitArea)return void d.emit(y.BIRD_COLLISION,{player:this.player,bird:i})}}},s.onDestroy=function(){d.off(y.ADD_BIRD,this.addTarget,this),d.off(y.REMOVE_BIRD,this.removeTarget,this)},s.onDisable=function(){this.stopCheck()},t}(f)).prototype,"player",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(m.prototype,"hitArea",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),A=t(m.prototype,"timeout",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),D=m))||D));l._RF.pop()}}}));

System.register("chunks:///_virtual/eventBus.ts",["cc"],(function(e){var t,n;return{setters:[function(e){t=e.cclegacy,n=e.EventTarget}],execute:function(){t._RF.push({},"4f709o7C3FOfJUq85JOiOMc","eventBus",void 0);e("eventBus",new n),e("GameEvents",Object.freeze({ADD_BIRD:"ADD_BIRD",REMOVE_BIRD:"REMOVE_BIRD",BIRD_COLLISION:"BIRD_COLLISION"}));t._RF.pop()}}}));

System.register("chunks:///_virtual/fallingState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./eventBus.ts","./state.ts","./player.model.ts"],(function(e){var t,a,n,i,l,s,o,r,c;return{setters:[function(e){t=e.inheritsLoose,a=e.classPrivateFieldLooseBase,n=e.classPrivateFieldLooseKey,i=e.assertThisInitialized},function(e){l=e.cclegacy},function(e){s=e.eventBus,o=e.GameEvents},function(e){r=e.State},function(e){c=e.PlayerStates}],execute:function(){l._RF.push({},"e795ekEKhZN+at3k6jkVmHb","fallingState",void 0);var u=n("startFallPoint");e("FallingState",function(e){function n(){var t;return t=e.call(this,c.FALLING)||this,Object.defineProperty(i(t),u,{writable:!0,value:void 0}),t}t(n,e);var l=n.prototype;return l.enter=function(e){e.player.setCanMove(!0),e.player.setSpeedMod(.5),a(this,u)[u]=e.player.node.y,s.on(o.BIRD_COLLISION,e.player.onBirdCollision,e.player)},l.update=function(e,t){this.checkFallDistance(e)},l.exit=function(e){s.off(o.BIRD_COLLISION,e.player.onBirdCollision,e.player),e.player.setSpeedMod(1)},l.checkFallDistance=function(e){Math.abs(e.player.node.y-a(this,u)[u])>e.player.deadDistance&&e.player.deadPlayer()},n}(r));l._RF.pop()}}}));

System.register("chunks:///_virtual/fms.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"8b03bLZVNlOeqZfd8Ybvu9p","fms",void 0);t("FSM",function(){function t(t){this.currentState=void 0,this.states=void 0,this.owner=void 0,this.owner=t,this.states=new Map,this.currentState=null}var e=t.prototype;return e.destroy=function(){this.states.clear(),this.currentState=null},e.addState=function(t){this.states.set(t.name,t)},e.changeState=function(t,e){var n=this.states.get(t);n?(this.currentState&&this.currentState.exit(this),this.currentState=n,this.currentState.enter(this,e),console.log("State changed to",t)):console.error("State "+t+" not found!")},e.update=function(t){this.currentState&&this.currentState.update(this,t)},e.getCurrentState=function(){return this.currentState},e.getOwner=function(){return this.owner},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/game.model.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fms.ts"],(function(e){var t,n,o;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){o=e.FSM}],execute:function(){n._RF.push({},"a6bb1atpqpKvb1lgCsVehdo","game.model",void 0);e("GameStates",Object.freeze({MAIN_MENU:"MAIN_MENU",PRELOAD:"PRELOAD",GAMEPLAY:"GAMEPLAY"})),e("GameFsm",function(e){function n(t){var n;return(n=e.call(this,t)||this).game=void 0,n.game=t,n}return t(n,e),n}(o));n._RF.pop()}}}));

System.register("chunks:///_virtual/gameCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./collisionCtrl.ts","./game.model.ts","./mainMenuState.ts","./birdCtrl.ts","./player.ts","./gameplayState.ts"],(function(e){var t,i,r,a,n,l,o,s,c,u,p,y,d,m,b,f,h,g,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized,n=e.classPrivateFieldLooseBase,l=e.classPrivateFieldLooseKey},function(e){o=e.cclegacy,s=e._decorator,c=e.Node,u=e.PhysicsSystem2D,p=e.Vec2,y=e.Component},function(e){d=e.collisionCtrl},function(e){m=e.GameFsm,b=e.GameStates},function(e){f=e.mainMenuState},function(e){h=e.birdCtrl},function(e){g=e.Player},function(e){C=e.gameplayState}],execute:function(){var v,w,S,P,z,L,N,A,F,M,_,D,G,U;o._RF.push({},"ab4beiU4o9AAKcNcr21TJLU","gameCtrl",void 0);var j=s.ccclass,k=s.property;e("gameCtrl",(v=j("gameCtrl"),w=k({type:d}),S=k({type:h}),P=k({type:c}),z=k({type:c}),L=k({type:c}),v((U=l("gameFsm"),F=t((A=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),l=0;l<i;l++)n[l]=arguments[l];return t=e.call.apply(e,[this].concat(n))||this,r(t,"collisionCtrl",F,a(t)),r(t,"birdCtrl",M,a(t)),r(t,"playerNode",_,a(t)),r(t,"ui",D,a(t)),r(t,"score",G,a(t)),t.player=void 0,Object.defineProperty(a(t),U,{writable:!0,value:void 0}),t}i(t,e);var l=t.prototype;return l.onLoad=function(){u.instance.gravity=new p(0,-1600),this.player=this.playerNode.getComponent(g)},l.start=function(){n(this,U)[U]=new m(this),n(this,U)[U].addState(new f),n(this,U)[U].addState(new C),this.collisionCtrl.startCheck(),n(this,U)[U].changeState(b.MAIN_MENU)},l.update=function(e){n(this,U)[U].update(e)},l.startGame=function(){this.score.active=!0,n(this,U)[U].changeState(b.GAMEPLAY)},t}(y)).prototype,"collisionCtrl",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(A.prototype,"birdCtrl",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(A.prototype,"playerNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(A.prototype,"ui",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(A.prototype,"score",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=A))||N));o._RF.pop()}}}));

System.register("chunks:///_virtual/gameplayState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./state.ts","./game.model.ts"],(function(t){var e,n,i,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.State},function(t){a=t.GameStates}],execute:function(){n._RF.push({},"3e5aeui3dxNEYryg40Q3Xi9","gameplayState",void 0);t("gameplayState",function(t){function n(){return t.call(this,a.GAMEPLAY)||this}e(n,t);var i=n.prototype;return i.enter=function(t,e){var n=(null==e?void 0:e.birdsCount)||35;t.game.collisionCtrl.startCheck(),t.game.birdCtrl.setBirdsCount(n),t.game.player.setActive(!0)},i.update=function(t,e){},i.exit=function(t){t.game.collisionCtrl.stopCheck()},n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/idleState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./state.ts","./inputCtrl.ts","./player.model.ts"],(function(t){var e,n,i,r,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.State},function(t){r=t.Key},function(t){u=t.PlayerStates}],execute:function(){n._RF.push({},"82313kiKdNCmrnnFBJsqOXU","idleState",void 0);t("IdleState",function(t){function n(){return t.call(this,u.IDLE)||this}e(n,t);var i=n.prototype;return i.enter=function(t){t.player.setCanMove(!0),t.player.setSpeedMod(1)},i.update=function(t,e){t.input.cursors.has(r.UP)&&(t.player.jump(),t.changeState(u.JUMPING))},i.exit=function(t){},n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/index.ts",["cc","./fallingState.ts","./jumpingState.ts","./idleState.ts"],(function(t){var e;return{setters:[function(t){e=t.cclegacy},function(e){t("FallingState",e.FallingState)},function(e){t("JumpingState",e.JumpingState)},function(e){t("IdleState",e.IdleState)}],execute:function(){e._RF.push({},"d87f3/WD8dPaLfCxE3IeuuE","index",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/inputCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,s,i,o,r,n;return{setters:[function(e){t=e.classPrivateFieldLooseBase,s=e.classPrivateFieldLooseKey},function(e){i=e.cclegacy,o=e.input,r=e.Input,n=e.KeyCode}],execute:function(){i._RF.push({},"aa671IMXvBNEb/O4EEnZjiR","inputCtrl",void 0);var c=e("Key",Object.freeze({LEFT:"left",RIGHT:"right",UP:"up",DOWN:"down"})),a=s("startPos"),h=s("deadZoneX"),u=s("deadZoneY");e("InputCtrl",function(){function e(e){this.inputMethod=void 0,this.cursors=new Set,Object.defineProperty(this,a,{writable:!0,value:void 0}),Object.defineProperty(this,h,{writable:!0,value:15}),Object.defineProperty(this,u,{writable:!0,value:100}),this.initKeyboard(),this.initTouch()}var s=e.prototype;return s.initKeyboard=function(){o.on(r.EventType.KEY_DOWN,this.onKeyDown,this),o.on(r.EventType.KEY_UP,this.onKeyUp,this)},s.initTouch=function(){o.on(r.EventType.TOUCH_MOVE,this.onSwipeMove,this),o.on(r.EventType.TOUCH_MOVE,this.onSwipeMove,this),o.on(r.EventType.TOUCH_END,this.onTouchEnd,this),o.on(r.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},s.onTouchEnd=function(e){t(this,a)[a]=null,this.cursors.clear()},s.onSwipeMove=function(e){var s=e.touch.getLocationX(),i=e.touch.getLocationY();t(this,a)[a]||(t(this,a)[a]=e.touch.getStartLocation());var o=t(this,a)[a].x-s,r=t(this,a)[a].y-i;console.log({deltaY:r}),o>t(this,h)[h]?this.cursors.add(c.LEFT):o<-t(this,h)[h]?this.cursors.add(c.RIGHT):(this.cursors.delete(c.LEFT),this.cursors.delete(c.RIGHT)),r>t(this,u)[u]?this.cursors.add(c.DOWN):r<-t(this,u)[u]?this.cursors.add(c.UP):(this.cursors.delete(c.UP),this.cursors.delete(c.DOWN))},s.onKeyDown=function(e){switch(e.keyCode){case n.ARROW_LEFT:case n.KEY_A:this.cursors.add(c.LEFT);break;case n.ARROW_RIGHT:case n.KEY_D:this.cursors.add(c.RIGHT);break;case n.ARROW_UP:case n.KEY_W:case n.SPACE:this.cursors.add(c.UP);break;case n.ARROW_DOWN:case n.KEY_S:this.cursors.add(c.DOWN)}},s.onKeyUp=function(e){switch(e.keyCode){case n.ARROW_LEFT:case n.KEY_A:this.cursors.delete(c.LEFT);break;case n.ARROW_RIGHT:case n.KEY_D:this.cursors.delete(c.RIGHT);break;case n.ARROW_UP:case n.KEY_W:case n.SPACE:this.cursors.delete(c.UP);break;case n.ARROW_DOWN:case n.KEY_S:this.cursors.delete(c.DOWN)}},e}());i._RF.pop()}}}));

System.register("chunks:///_virtual/jumpingState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./state.ts","./player.model.ts"],(function(t){var e,n,i,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.State},function(t){o=t.PlayerStates}],execute:function(){n._RF.push({},"3784dZAkoBKaY/awuSTAWI7","jumpingState",void 0);t("JumpingState",function(t){function n(){return t.call(this,o.JUMPING)||this}e(n,t);var i=n.prototype;return i.enter=function(t){t.player.setCanMove(!0),t.player.setSpeedMod(.5)},i.update=function(t,e){t.player.rb.linearVelocity.y>0||t.changeState(o.FALLING)},i.exit=function(t){},n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./bird.model.ts","./bird.ts","./birdCtrl.ts","./adaptiveView.ts","./eventBus.ts","./fms.ts","./state.ts","./cameraCtrl.ts","./collisionCtrl.ts","./game.model.ts","./gameCtrl.ts","./inputCtrl.ts","./score.ts","./gameplayState.ts","./mainMenuState.ts","./worldBounds.ts","./player.model.ts","./player.ts","./capturedState.ts","./fallingState.ts","./idleState.ts","./index.ts","./jumpingState.ts","./utils.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/mainMenuState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./state.ts","./game.model.ts"],(function(e){var t,i,n,a,s,u,o;return{setters:[function(e){t=e.inheritsLoose,i=e.classPrivateFieldLooseBase,n=e.classPrivateFieldLooseKey,a=e.assertThisInitialized},function(e){s=e.cclegacy},function(e){u=e.State},function(e){o=e.GameStates}],execute:function(){s._RF.push({},"71d21RANwlBjJiMeyTdNLeQ","mainMenuState",void 0);var r=n("mainMenu");e("mainMenuState",function(e){function n(){var t;return t=e.call(this,o.MAIN_MENU)||this,Object.defineProperty(a(t),r,{writable:!0,value:void 0}),t}t(n,e);var s=n.prototype;return s.enter=function(e){i(this,r)[r]=e.game.ui.getChildByName("MainMenu"),e.game.birdCtrl.setBirdsCount(10),i(this,r)[r].active=!0},s.update=function(e,t){},s.exit=function(e){i(this,r)[r].active=!1},n}(u));s._RF.pop()}}}));

System.register("chunks:///_virtual/player.model.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fms.ts"],(function(e){var t,r,n;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy},function(e){n=e.FSM}],execute:function(){r._RF.push({},"b426b92AtRFC6MOpBGJw3G0","player.model",void 0);e("PlayerStates",Object.freeze({IDLE:"IDLE",JUMPING:"JUMPING",FALLING:"FALLING",CAPTURED:"CAPTURED",BONUS:"BONUS"})),e("PlayerEvents",Object.freeze({ON_GROUND:"ON_GROUND",TOUCH_BOUNDS:"TOUCH_BOUNDS",ON_DEAD:"ON_DEAD"})),e("PlayerFsm",function(e){function r(t,r){var n;return(n=e.call(this,t)||this).player=void 0,n.input=r,n.player=t,n}return t(r,e),r}(n));r._RF.pop()}}}));

System.register("chunks:///_virtual/player.ts",["./rollupPluginModLoBabelHelpers.js","cc","./inputCtrl.ts","./player.model.ts","./index.ts","./capturedState.ts","./idleState.ts","./jumpingState.ts","./fallingState.ts"],(function(t){var e,i,n,o,s,a,r,c,l,h,d,u,p,y,f,b,v,g,m,w,P,C,S,D,F,j,O,B;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.classPrivateFieldLooseBase,a=t.classPrivateFieldLooseKey},function(t){r=t.cclegacy,c=t._decorator,l=t.CCFloat,h=t.CCInteger,d=t.Vec2,u=t.RigidBody2D,p=t.BoxCollider2D,y=t.Contact2DType,f=t.view,b=t.Vec3,v=t.math,g=t.tween,m=t.Component},function(t){w=t.InputCtrl,P=t.Key},function(t){C=t.PlayerFsm,S=t.PlayerStates,D=t.PlayerEvents},null,function(t){F=t.CapturedState},function(t){j=t.IdleState},function(t){O=t.JumpingState},function(t){B=t.FallingState}],execute:function(){var x,I,L,T,V,A,_,z,E,M,N,G,R,U,k,H;r._RF.push({},"d4a889Q15tE85CD5V2U+xSo","player",void 0);var K=c.ccclass,J=c.property;t("Player",(x=K("Player"),I=J({type:l}),L=J({type:l}),T=J({type:h}),x((M=a("playerFsm"),N=a("collider"),G=a("speedMod"),R=a("canMove"),U=a("input"),k=a("_catchTween"),H=a("_vec2"),_=e((A=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,n(e,"jumpForce",_,o(e)),n(e,"speed",z,o(e)),n(e,"deadDistance",E,o(e)),e.rb=void 0,Object.defineProperty(o(e),M,{writable:!0,value:void 0}),Object.defineProperty(o(e),N,{writable:!0,value:void 0}),Object.defineProperty(o(e),G,{writable:!0,value:1}),Object.defineProperty(o(e),R,{writable:!0,value:!0}),Object.defineProperty(o(e),U,{writable:!0,value:void 0}),Object.defineProperty(o(e),k,{writable:!0,value:void 0}),Object.defineProperty(o(e),H,{writable:!0,value:new d}),e}i(e,t);var a=e.prototype;return a.onLoad=function(){s(this,U)[U]=new w("auto"),s(this,M)[M]=new C(this,s(this,U)[U]),s(this,M)[M].addState(new j),s(this,M)[M].addState(new O),s(this,M)[M].addState(new B),s(this,M)[M].addState(new F),this.rb=this.getComponent(u),s(this,N)[N]=this.getComponent(p),this.node.active=!1,s(this,N)[N].on(y.BEGIN_CONTACT,this.onContact,this),this.initPlayer()},a.update=function(t){s(this,U)[U].cursors.has(P.LEFT)?this.move(-1):s(this,U)[U].cursors.has(P.RIGHT)?this.move(1):this.move(0),s(this,M)[M].update(t)},a.faceDirection=function(t){if(0!==t){var e=this.node.scale,i=Math.abs(e.x),n=t<0?-i:i;e.x!==n&&this.node.setScale(n,e.y,e.z)}},a.onContact=function(t,e){switch(e.node.name){case"left":case"right":this.node.emit(D.TOUCH_BOUNDS);break;case"Island":s(this,M)[M].changeState(S.IDLE);break;case"bottom":this.deadPlayer()}},a.initPlayer=function(){var t=f.getVisibleSize();this.node.setPosition(t.width/2,t.height/2,1),s(this,M)[M].changeState(S.FALLING)},a.onBirdCollision=function(t){s(this,M)[M].changeState(S.CAPTURED,t.bird)},a.move=function(t){this.faceDirection(t);var e=this.rb.linearVelocity;s(this,R)[R]&&0!==t?(s(this,H)[H].set(this.speed*s(this,G)[G]*t,e.y),this.rb.linearVelocity=s(this,H)[H]):0!==e.x&&(s(this,H)[H].set(0,e.y),this.rb.linearVelocity=s(this,H)[H])},a.moveWithBird=function(t){this.node.setPosition(t.node.position.x,this.node.position.y,this.node.position.z)},a.jump=function(){s(this,H)[H].set(this.rb.linearVelocity.x,this.jumpForce),this.rb.linearVelocity=s(this,H)[H]},a.startCaptureBird=function(t,e){var i,n=this;this.setActiveBody(!1),null==(i=s(this,k)[k])||i.stop();var o=this.node.position.clone(),a={progress:0},r=new b,c=new b,l=b.distance(o,t.position),h=v.clamp(Math.abs(this.rb.linearVelocity.y),0,30),u=.15+l/3*.01;s(this,k)[k]=g(a).to(u,{progress:1},{onUpdate:function(e){var i=e.progress,s=t.getPosition(),l=.7*h*i*Math.pow(1-i,2);r.set(s.x,s.y,0),b.lerp(c,o,r,a.progress),n.node.setPosition(c.x,c.y+l,c.z)}}).call((function(){n.rb.linearVelocity=new d(0,0),e()})).start()},a.dropPlayer=function(){s(this,M)[M].changeState(S.FALLING)},a.deadPlayer=function(){console.log("deadPlayer"),this.node.emit(D.ON_DEAD)},a.setActiveBody=function(t){this.rb&&(this.rb.enabled=t)},a.setActive=function(t){this.node.active=t},a.setCanMove=function(t){s(this,R)[R]=t},a.setSpeedMod=function(t){s(this,G)[G]=t},a.onDestroy=function(){s(this,N)[N]&&s(this,N)[N].off(y.BEGIN_CONTACT,this.onContact,this),s(this,k)[k]&&(s(this,k)[k].stop(),s(this,k)[k]=null),s(this,M)[M]&&s(this,M)[M].destroy(),this.node.targetOff(this)},e}(m)).prototype,"jumpForce",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=e(A.prototype,"speed",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=e(A.prototype,"deadDistance",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),V=A))||V));r._RF.pop()}}}));

System.register("chunks:///_virtual/score.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,i,o,a,n,s,l,c,p,u,y,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.classPrivateFieldLooseBase,n=e.classPrivateFieldLooseKey},function(e){s=e.cclegacy,l=e._decorator,c=e.Node,p=e.CCInteger,u=e.Label,y=e.macro,h=e.Component}],execute:function(){var d,f,b,v,g,P,m,w,F;s._RF.push({},"bfd79IwhIpDJaZaorWidX8Y","score",void 0);var L=l.ccclass,R=l.property;e("score",(d=L("score"),f=R({type:c}),b=R({type:p}),d((w=n("score"),F=n("label"),P=t((g=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return t=e.call.apply(e,[this].concat(a))||this,i(t,"player",P,o(t)),i(t,"delay",m,o(t)),Object.defineProperty(o(t),w,{writable:!0,value:0}),Object.defineProperty(o(t),F,{writable:!0,value:void 0}),t}r(t,e);var n=t.prototype;return n.start=function(){a(this,F)[F]=this.getComponent(u),this.schedule(this.getPlayerPosition,.1,y.REPEAT_FOREVER,this.delay)},n.getPlayerPosition=function(){var e=Math.floor(this.player.position.y/100);e>a(this,w)[w]&&this.setScore(e)},n.setScore=function(e){a(this,w)[w]=e,a(this,F)[F].string=e.toString().padStart(4,"0")},t}(h)).prototype,"player",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=t(g.prototype,"delay",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),v=g))||v));s._RF.pop()}}}));

System.register("chunks:///_virtual/state.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"7888f6GEatFtpUqiHdG7/as","state",void 0);t("State",(function(t){this.name=void 0,this.name=t}));e._RF.pop()}}}));

System.register("chunks:///_virtual/utils.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,e;return{setters:[function(n){t=n.asyncToGenerator},function(n){e=n.cclegacy}],execute:function(){e._RF.push({},"82fb96QJiNNPYf6U6XlO5Pq","utils",void 0);n("delay",function(){var n=t((function*(n){return new Promise((function(t,e){return setTimeout(t,n)}))}));return function(t){return n.apply(this,arguments)}}());e._RF.pop()}}}));

System.register("chunks:///_virtual/worldBounds.ts",["./rollupPluginModLoBabelHelpers.js","cc","./player.ts"],(function(t){var e,i,o,n,r,l,s,a,u,p,d,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,r=t.classPrivateFieldLooseBase,l=t.classPrivateFieldLooseKey},function(t){s=t.cclegacy,a=t._decorator,u=t.Node,p=t.view,d=t.Component},function(t){c=t.Player}],execute:function(){var h,y,f,B,b,v,g,w,P,m,z,L;s._RF.push({},"2a036eATl5DvY9soBEN1Lvu","worldBounds",void 0);var D=a.ccclass,F=a.property;t("worldBounds",(h=D("worldBounds"),y=F({type:u}),f=F({type:u}),B=F({type:u}),b=F({type:c}),h((L=l("size"),w=e((g=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,o(e,"leftBound",w,n(e)),o(e,"rightBound",P,n(e)),o(e,"bottomBound",m,n(e)),o(e,"player",z,n(e)),Object.defineProperty(n(e),L,{writable:!0,value:void 0}),e}i(e,t);var l=e.prototype;return l.start=function(){var t=this;r(this,L)[L]=p.getVisibleSize(),this.leftBound.setPosition(-r(this,L)[L].width/2,0,0),this.rightBound.setPosition(r(this,L)[L].width/2,0,0),this.schedule((function(){t.moveWithPlayer()}),.2)},l.moveWithPlayer=function(){var t=this.player.node.position.y-r(this,L)[L].height/2;t!==this.leftBound.position.y&&(this.leftBound.setPosition(this.leftBound.position.x,t,0),this.rightBound.setPosition(this.rightBound.position.x,t,0))},e}(d)).prototype,"leftBound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(g.prototype,"rightBound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=e(g.prototype,"bottomBound",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(g.prototype,"player",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=g))||v));s._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});